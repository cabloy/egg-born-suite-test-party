# egg-born-module-test-wechat

CabloyJS的微信测试模块

## Cabloy-微信是什么

`Cabloy-微信`是基于CabloyJS全栈业务开发框架开发的`微信接口模块`，当前整合了`微信公众号`和`微信小程序`的接口，达到`开箱即用`的使用效果。在`Cabloy-微信`的基础上，可以很方便的开发各类微信业务系统

## 核心目标

`微信开发`最复杂的就是账号体系对接，比如：

1. 在`消息推送系统`中，对新用户进行注册
2. 通过`网页登录`，对新用户进行注册
3. 通过`微信小程序登录`，对新用户进行注册
4. 如果启用`微信开放平台`，如何通过`unionid`关联同一用户
5. 如果系统已经运行一段时间，再启用`unionid`机制，如果关联旧账号

一旦完成了这些场景下的账号体系对接，真正的业务开发就很简单了

因此，`Cabloy-微信`模块的核心目标，就是自动完成这些场景下的账号体系对接，我们所需要做的就是提供一些配置参数，然后就可以愉快的开启业务逻辑的开发了

## 特性

基于CabloyJS全栈框架提供的便利性和灵活性，`Cabloy-微信`主要有如下特性:

### 1. 一站式整合

当前整合了`微信公众号`和`微信小程序`的接口，具体如下：

|场景|名称|说明|
|--|--|--|
|微信公众号|消息推送系统|自动完成接口对接，并自动进行用户注册|
|微信公众号|网页登录|自动跳转微信登录，并自动进行用户注册|
|微信公众号|网页JSSDK|自动注入JSSDK，并自动完成配置|
|微信小程序|客服系统|自动完成接口对接|
|微信小程序|后台登录接口|自动完成接口对接，并自动进行用户注册|
|微信小程序|前端SDK|提供SDK，便于微信小程序前端直接访问CabloyJS后端API|
|微信开放平台|unionid|自动匹配账户，自动聚敛|

### 2. 开箱即用

只需配置好微信账号参数，所有接口自动完成对接

### 3. 自动聚敛

我们知道，通过`微信开放平台`提供的`unionid`机制，可以为`微信公众号`和`微信小程序`提供同一身份。但是在实际场景中，往往先开发并部署了`微信公众号`和`微信小程序`。这时候，二者的用户账户是独立的。那么当我们配置好了`微信开放平台`的`unionid`机制后，以前独立的用户账户会自动进行合并。这种机制，我们称之为`自动聚敛`

### 4. 多小程序支持

`微信公众号`可以关联多个`微信小程序`，因此，模块也提供了多小程序支持。如果启用了`unionid`机制，这些小程序同样也可以实现统一身份的打通

### 5. 多站点支持

通过CabloyJS提供的`多实例`特性，可以实现`多站点支持`，比如为不同的企业提供微信服务。请参见：[EggBornJS：多实例](https://cabloy.com/zh-cn/articles/44e45b3928ca4c6cb63809558145e000.html)

## 快速开始

快速开始，请参见： [https://cabloy.com/zh-cn/articles/wechat-quick-start.html](https://cabloy.com/zh-cn/articles/wechat-quick-start.html)
