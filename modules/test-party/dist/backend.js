(()=>{var e={5792:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>class{async create(e,t){return a(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:o.equal(!!e.result,!0);case 3:case"end":return n.stop()}}),n)})))()}async _submitDirect(e,t){return a(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:o.equal(!!e.result,!0);case 3:case"end":return n.stop()}}),n)})))()}}},1778:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class{get__name(e,t){t(),e.value="".concat(e.value,":regexpaop")}set__name(e,t){const n=e.value.split(":"),r=n.indexOf("regexpaop");r>-1&&n.splice(r,1),e.value=n.join(":"),t()}actionSync(e,t){t(),e.result="".concat(e.result,":regexpaop")}async actionAsync(e,n){return(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:e.result="".concat(e.result,":regexpaop");case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,o){var s=r.apply(e,n);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var r}}},7480:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class extends class{actionSync(e,t){t(),e.result="".concat(e.result,":simpleaop")}}{get__magic__(e,t){t(),"magic"===e.prop&&(e.value="magic:simpleaop")}get__name(e,t){t(),e.value="".concat(e.value,":simpleaop")}set__name(e,t){const n=e.value.split(":"),r=n.indexOf("simpleaop");r>-1&&n.splice(r,1),e.value=n.join(":"),t()}async actionAsync(e,n){return(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:e.result="".concat(e.result,":simpleaop");case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,o){var s=r.apply(e,n);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var r}}},3905:(e,t,n)=>{const r=n(1778),a=n(7480),o=n(5792);e.exports=e=>{const t={};return Object.assign(t,{simple:{match:"testctx",mode:"ctx",bean:a},regExp:{match:[/^test-party.test\.\w+$/,"testctx"],mode:"ctx",bean:r}}),e.meta.isTest&&Object.assign(t,{atom:{match:"atom",mode:"ctx",bean:o}}),t}},1237:e=>{function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw s}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class n extends e.meta.AtomCmsBase{async create(e){var t=()=>super.create,n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s,i,c,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.atomClass,o=e.item,s=e.options,i=e.user,r.next=3,t().call(n,{atomClass:a,item:o,options:s,user:i});case 3:return c=r.sent,r.next=6,n.ctx.model.party.insert({atomId:c.atomId});case 6:return u=r.sent,r.abrupt("return",{atomId:c.atomId,itemId:u.insertId});case 8:case"end":return r.stop()}}),r)})))()}async read(e){var t=()=>super.read,n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s,i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.atomClass,o=e.options,s=e.key,i=e.user,r.next=3,t().call(n,{atomClass:a,options:o,key:s,user:i});case 3:if(c=r.sent){r.next=6;break}return r.abrupt("return",null);case 6:return r.next=8,n._translate(c);case 8:return r.next=10,n._getMeta(c,o);case 10:return r.abrupt("return",c);case 11:case"end":return r.stop()}}),r)})))()}async select(e){var n=()=>super.select,r=this;return a(regeneratorRuntime.mark((function a(){var o,s,i,c,u,m,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.atomClass,s=e.options,i=e.items,c=e.user,a.next=3,n().call(r,{atomClass:o,options:s,items:i,user:c});case 3:u=t(i),a.prev=4,u.s();case 6:if((m=u.n()).done){a.next=14;break}return l=m.value,a.next=10,r._translate(l);case 10:return a.next=12,r._getMeta(l,s);case 12:a.next=6;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(4),u.e(a.t0);case 19:return a.prev=19,u.f(),a.finish(19);case 22:case"end":return a.stop()}}),a,null,[[4,16,19,22]])})))()}async write(e){var t=()=>super.write,n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s,i,c,u,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.atomClass,o=e.target,s=e.key,i=e.item,c=e.options,u=e.user,r.next=3,t().call(n,{atomClass:a,target:o,key:s,item:i,options:c,user:u});case 3:return r.next=5,n.ctx.model.party.prepareData(i);case 5:return(m=r.sent).id=s.itemId,r.next=9,n.ctx.model.party.update(m);case 9:case"end":return r.stop()}}),r)})))()}async delete(e){var t=()=>super.delete,n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.atomClass,o=e.key,s=e.options,i=e.user,r.next=3,t().call(n,{atomClass:a,key:o,options:s,user:i});case 3:return r.next=5,n.ctx.model.party.delete({id:o.itemId});case 5:case"end":return r.stop()}}),r)})))()}async checkRightAction(e){var t=()=>super.checkRightAction,n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s,i,c,u,m,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.atom,o=e.atomClass,s=e.action,i=e.stage,c=e.user,u=e.checkFlow,r.next=3,t().call(n,{atom:a,atomClass:o,action:s,stage:i,user:c,checkFlow:u});case 3:if(m=r.sent){r.next=6;break}return r.abrupt("return",m);case 6:if(1===a.atomStage){r.next=8;break}return r.abrupt("return",m);case 8:if(101===s){r.next=10;break}return r.abrupt("return",m);case 10:return r.next=12,n.ctx.model.party.get({id:a.itemId});case 12:if(l=r.sent,101!==s||0!==l.partyOver){r.next=15;break}return r.abrupt("return",m);case 15:return r.abrupt("return",null);case 16:case"end":return r.stop()}}),r)})))()}async _translate(e){var t=this;return a(regeneratorRuntime.mark((function n(){var r,a,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("1"===(r=e.partyCountry)||"86"===r){n.next=3;break}return n.abrupt("return");case 3:if(a="1"===r?"a-dictbooster:citiesUSA":"a-dictbooster:citiesChina",o=e.partyCity){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,t.ctx.bean.dict.findItem({dictKey:a,code:o,options:{separator:"/"}});case 9:(s=n.sent)&&(e._partyCityTitle=s.titleFull,e._partyCityTitleLocale=s.titleLocaleFull);case 11:case"end":return n.stop()}}),n)})))()}async _getMeta(e,t){var n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t&&t.layout,o=n._ensureItemMeta(e),e.partyOver&&o.flags.push(n.ctx.text("PartyOverFlag")),"table"!==a&&e.personCount&&o.flags.push(e.personCount+"P"),!e.partyTypeCode){r.next=9;break}return r.next=7,n.ctx.bean.dict.findItem({dictKey:"test-party:dictPartyType",code:e.partyTypeCode});case 7:s=r.sent,o.summary="".concat(s.options.emoji).concat(s.titleLocaleFull);case 9:case"end":return r.stop()}}),r)})))()}}return n}},930:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.meta.BeanBase{async execute(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sameAsCaller,r=e.data,a.equal(n.ctx.locale,"zh-cn"),a.equal(r.message,"hello");case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,o){var s=t.apply(e,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},7198:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class{async execute(e,n){return(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.data.text="hello echo",e.result="".concat(e.result,".echo"),t.next=5,n();case 5:e.result="echo.".concat(e.result);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,o){var s=r.apply(e,n);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var r}}},3112:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("extend2");e.exports=e=>class{async execute(e,t){return(n=regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.data,o=r.info,(s=o.user&&o.user.provider)&&"a-authgithub"===s.module&&"authgithub"===s.providerName&&(o.config=a(!0,o.config,{modules:{}})),n.next=6,t();case 6:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,o){var s=n.apply(e,t);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}},7171:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("extend2");e.exports=e=>class{async execute(e,t){return(n=regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.data,(o=r.info).config=a(!0,o.config,{modules:{}}),n.next=5,t();case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,o){var s=n.apply(e,t);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}},489:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>class{async execute(e,t){return(n=regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.data,a(r.profileUser.profileId>0),n.next=4,t();case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,o){var s=n.apply(e,t);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}},3179:e=>{e.exports=e=>{class t extends(e.app.meta.IOMessageBase(e)){}return t}},4076:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends(e.app.meta.IOMessageBase(e)){async onSaveSync(n){var r,a=()=>super.onSaveSync,o=this;return(r=regeneratorRuntime.mark((function t(){var r,s,i,c,u,m,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.path,s=n.options,i=n.message,c=n.messageSync,u=n.messageClass,m=s&&s.scene||"",1!==c.messageDirection||0!==i.userIdTo){t.next=7;break}return l=JSON.parse(i.content),d={messageType:i.messageType,messageFilter:i.messageFilter,messageGroup:i.messageGroup,messageScene:m,userIdFrom:0,userIdTo:c.userId,content:{text:"Reply: ".concat(l.text)}},t.next=7,e.bean.io.publish({path:r,message:d,messageClass:u,options:s});case 7:return t.next=9,a().call(o,{path:r,options:s,message:i,messageSync:c,messageClass:u});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,o){var s=r.apply(e,n);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},4921:e=>{e.exports=e=>class{get name(){return"localTest"}}},8240:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class{async execute(n,r){return(a=regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.request.body,a=n.a,o=n.b,void 0!==a&&void 0!==o){t.next=3;break}return t.abrupt("return",e.throw(1002));case 3:return t.next=5,r();case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var s=a.apply(e,n);function i(e){t(s,r,o,i,c,"next",e)}function c(e){t(s,r,o,i,c,"throw",e)}i(void 0)}))})();var a}}},9588:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class{async execute(n,r){return(a=regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.request.body,a=n.a,o=n.b,e.request.body.a=parseInt(a),e.request.body.b=parseInt(o),t.next=5,r();case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var s=a.apply(e,n);function i(e){t(s,r,o,i,c,"next",e)}function c(e){t(s,r,o,i,c,"throw",e)}i(void 0)}))})();var a}}},8491:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.meta.BeanBase{async execute(e){return(n=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,t.abrupt("return",n.a+n.b);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}return n}},9843:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.meta.BeanBase{async execute(e){var n,r=this;return(n=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.job,console.log("----- Schedule Test: iid=".concat(r.ctx.instance.id,", every=").concat(n.data.jobOptions.repeat.every,", ").concat(new Date));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},7985:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class{async execute(e){return(n=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.value,t.abrupt("return",++n);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}},9619:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.meta.BeanBase{async execute(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("test/feat/startup: all"),a.equal(t.ctx.instance,void 0);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},1683:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.meta.BeanBase{async execute(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("test/feat/startup: instance:".concat(t.ctx.instance.id)),a(t.ctx.instance.id>0);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},772:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{const n=e.app.meta.mockUtil.parseInfoFromPackage(__dirname);return class{async execute(r){return(a=regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.keys,o=a.join("."),t.next=4,e.bean.stats._get({module:n.relativeName,fullName:o});case 4:if(void 0!==(s=t.sent)){t.next=7;break}return t.abrupt("return",1);case 7:return t.abrupt("return",s+1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var s=a.apply(e,n);function i(e){t(s,r,o,i,c,"next",e)}function c(e){t(s,r,o,i,c,"throw",e)}i(void 0)}))})();var a}}}},1444:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{const n=e.app.meta.mockUtil.parseInfoFromPackage(__dirname);return class{async execute(r){return(a=regeneratorRuntime.mark((function t(){var a,o,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.keys,o=r.user,s=a.join("."),t.next=4,e.bean.stats._get({module:n.relativeName,fullName:s,user:o});case 4:if(void 0!==(i=t.sent)){t.next=7;break}return t.abrupt("return",1);case 7:return t.abrupt("return",i+1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var s=a.apply(e,n);function i(e){t(s,r,o,i,c,"next",e)}function c(e){t(s,r,o,i,c,"throw",e)}i(void 0)}))})();var a}}}},2216:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.meta.BeanBase{actionSync(e){return e.a+e.b}async actionAsync(e){return(n=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.a,r=e.b,t.abrupt("return",Promise.resolve(n+r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}return n}},6131:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=class extends class{constructor(e){this.ctx=e}actionSync(e){return e.a+e.b}}{async actionAsync(e){return(n=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.a,r=e.b,t.abrupt("return",Promise.resolve(n+r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})();var n}}},3596:(e,t,n)=>{const r=n(5942),a=n(786);e.exports=e=>e.app.meta.util.mixinClasses(r,a,e)},5942:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>class{constructor(t){this._name=t||e.module.info.relativeName}get name(){return this._name}set name(e){this._name=e}actionSync(e){return e.a+e.b}async actionAsync(e){return n(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.a,r=e.b,t.abrupt("return",Promise.resolve(n+r));case 2:case"end":return t.stop()}}),t)})))()}async actionAsync2(e){var t=this;return n(regeneratorRuntime.mark((function n(){var r,a,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.a,a=e.b,o=t.name,n.next=4,t.actionAsync({a:r,b:a});case 4:return s=n.sent,n.abrupt("return","".concat(o,":").concat(s));case 6:case"end":return n.stop()}}),n)})))()}}},786:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>class{async actionAsync3(e){var n,r=this;return(n=regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.a,a=e.b,t.next=3,r.actionAsync2({a:n,b:a});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}},6986:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(627),s=n(79);e.exports=e=>{class t extends e.meta.BeanBase{async update(e){var t=this;return a(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!==e.version){n.next=10;break}return r="\n          CREATE TABLE testParty (\n            id int(11) NOT NULL AUTO_INCREMENT,\n            createdAt timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n            updatedAt timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n            deleted int(11) DEFAULT '0',\n            iid int(11) DEFAULT '0',\n            atomId int(11) DEFAULT '0',\n            personCount int(11) DEFAULT '0',\n            partyTypeId int(11) DEFAULT '0',\n            partyOver int(11) DEFAULT '0',\n            PRIMARY KEY (id)\n          )\n        ",n.next=4,t.ctx.model.query(r);case 4:return r="\n          CREATE TABLE testPartyType (\n            id int(11) NOT NULL AUTO_INCREMENT,\n            createdAt timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n            updatedAt timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n            deleted int(11) DEFAULT '0',\n            iid int(11) DEFAULT '0',\n            name varchar(255) DEFAULT NULL,\n            PRIMARY KEY (id)\n          )\n        ",n.next=7,t.ctx.model.query(r);case 7:return r="\n          CREATE VIEW testPartyView as\n            select a.*,b.name as partyTypeName from testParty a\n              left join testPartyType b on a.partyTypeId=b.id\n        ",n.next=10,t.ctx.model.query(r);case 10:if(2!==e.version){n.next=18;break}return n.next=13,t.ctx.model.query("drop view testPartyView");case 13:return n.next=15,t.ctx.model.query("drop table testPartyType");case 15:return r="\n          ALTER TABLE testParty\n            CHANGE COLUMN partyTypeId partyTypeCode INT(11) DEFAULT '0',\n            ADD COLUMN partyTime timestamp DEFAULT NULL,\n            ADD COLUMN partyCountry varchar(50) DEFAULT '',\n            ADD COLUMN partyCity varchar(50) DEFAULT ''\n        ",n.next=18,t.ctx.model.query(r);case 18:case"end":return n.stop()}}),n)})))()}async init(e){var t=this;return a(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!==e.version){n.next=7;break}return r=[{roleName:"system",action:"create"},{roleName:"system",action:"read",scopeNames:"authenticated"},{roleName:"system",action:"write",scopeNames:0},{roleName:"system",action:"delete",scopeNames:0},{roleName:"system",action:"clone",scopeNames:0},{roleName:"system",action:"deleteBulk"},{roleName:"system",action:"exportBulk"},{roleName:"anonymous",action:"read",scopeNames:"authenticated"},{roleName:"system",action:"partyOver",scopeNames:0},{roleName:"system",action:"partyOverBulk"}],n.next=4,t.ctx.bean.role.addRoleRightBatch({atomClassName:"party",roleRights:r});case 4:return a=new(o(t.ctx)),n.next=7,a.run();case 7:case"end":return n.stop()}}),n)})))()}async test(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new(s(e.ctx)),t.next=3,n.run();case 3:case"end":return t.stop()}}),t)})))()}}return t}},627:(e,t,n)=>{function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw s}}}}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}const u=n(8121);e.exports=function(e){const t=e.app.meta.mockUtil.parseInfoFromPackage(__dirname);return class{async run(){var t=this;return c(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._testRoles();case 2:return r=n.sent,n.next=5,t._testRoleIncs(r);case 5:return n.next=7,e.bean.role.setDirty(!0);case 7:return n.next=9,t._testUsers(r);case 9:return a=n.sent,n.next=12,t._testRoleRights(r);case 12:t._testCache(r,a);case 13:case"end":return n.stop()}}),n)})))()}_testCache(t,n){e.cache.mem.set("roleIds",t),e.cache.mem.set("userIds",n)}async _testRoles(){return c(regeneratorRuntime.mark((function n(){var o,s,i,c,m,l,d,p,h,f,x;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o={},s=a(e.constant.module("a-base").systemRoles),n.prev=2,s.s();case 4:if((i=s.n()).done){n.next=12;break}return c=i.value,n.next=8,e.bean.role.getSystemRole({roleName:c});case 8:m=n.sent,o[c]=m.id;case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),s.e(n.t0);case 17:return n.prev=17,s.f(),n.finish(17);case 20:l=a(u.roles),n.prev=21,l.s();case 23:if((d=l.n()).done){n.next=30;break}return p=r(d.value,4),c=p[0],h=p[1],f=p[2],x=p[3],n.next=27,e.bean.role.add({module:t.relativeName,roleName:c,leader:h,catalog:f,roleIdParent:o[x]});case 27:o[c]=n.sent;case 28:n.next=23;break;case 30:n.next=35;break;case 32:n.prev=32,n.t1=n.catch(21),l.e(n.t1);case 35:return n.prev=35,l.f(),n.finish(35);case 38:return n.abrupt("return",o);case 39:case"end":return n.stop()}}),n,null,[[2,14,17,20],[21,32,35,38]])})))()}async _testRoleIncs(t){return c(regeneratorRuntime.mark((function n(){var o,s,i,c,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=a(u.roleIncs),n.prev=1,o.s();case 3:if((s=o.n()).done){n.next=9;break}return i=r(s.value,2),c=i[0],m=i[1],n.next=7,e.bean.role.addRoleInc({roleId:t[c],roleIdInc:t[m]});case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),o.e(n.t0);case 14:return n.prev=14,o.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})))()}async _testUsers(t){var n=this;return c(regeneratorRuntime.mark((function o(){var s,i,c,m,l,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:s={},i=a(u.users),o.prev=2,i.s();case 4:if((c=i.n()).done){o.next=16;break}if(m=r(c.value,2),l=m[0],d=m[1],s[l]){o.next=12;break}return o.next=9,e.bean.user.add({userName:l,realName:l});case 9:return s[l]=o.sent,o.next=12,e.bean.user.save({user:{id:s[l],activated:1}});case 12:return o.next=14,e.bean.role.addUserRole({userId:s[l],roleId:t[d]});case 14:o.next=4;break;case 16:o.next=21;break;case 18:o.prev=18,o.t0=o.catch(2),i.e(o.t0);case 21:return o.prev=21,i.f(),o.finish(21);case 24:return o.next=26,n._testAuths(s);case 26:return o.next=28,e.bean.user.get({userName:"root"});case 28:return p=o.sent,s.root=p.id,o.abrupt("return",s);case 31:case"end":return o.stop()}}),o,null,[[2,18,21,24]])})))()}async _testRoleRights(){return c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bean.role.addRoleRightBatch({atomClassName:"party",roleRights:u.roleRights});case 2:return t.next=4,e.bean.role.addRoleRightBatch({module:"a-base",atomClassName:"role",roleRights:u.roleRightsRole});case 4:return t.next=6,e.bean.role.addRoleRightBatch({module:"a-base",atomClassName:"user",roleRights:u.roleRightsUser});case 6:case"end":return t.stop()}}),t)})))()}async _testAuths(t){return c(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=regeneratorRuntime.keys(t);case 1:if((n.t1=n.t0()).done){n.next=7;break}return r=n.t1.value,n.next=5,e.meta.util.executeBean({beanModule:"a-authsimple",beanFullName:"a-authsimple.service.auth",context:{userId:t[r],password:""},fn:"add"});case 5:n.next=1;break;case 7:case"end":return n.stop()}}),n)})))()}}}},79:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(8121);e.exports=function(e){return class{async run(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._testRoleRights();case 2:return t.next=4,e._testRoleResources();case 4:case"end":return t.stop()}}),t)})))()}async _testRoleRights(){return a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}async _testRoleResources(){return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bean.resource.addRoleResourceBatch({roleResources:o.roleResources});case 2:case"end":return t.stop()}}),t)})))()}}}},8121:e=>{e.exports={roles:[["friend",0,0,"external"],["consultant",0,1,"external"],["study",0,0,"consultant"],["work",0,0,"consultant"],["life",0,0,"consultant"],["family",0,1,"internal"],["father",0,0,"family"],["mother",1,0,"family"],["son",0,0,"family"],["daughter",0,0,"family"]],roleIncs:[["friend","family"]],users:[["Tom","father"],["Jane","mother"],["Tomson","son"],["Jannie","daughter"],["Jimmy","friend"],["Rose","friend"],["Smith","life"],["Jone","work"]],roleRights:[{roleName:"family",action:"create"},{roleName:"family",action:"read",scopeNames:"family"},{roleName:"authenticated",action:"read",scopeNames:0},{roleName:"authenticated",action:"write",scopeNames:0},{roleName:"authenticated",action:"delete",scopeNames:0},{roleName:"consultant",action:"read",scopeNames:"family"},{roleName:"RoleScopeCliDevelopment",action:"create"},{roleName:"RoleScopeCliDevelopment",action:"read"},{roleName:"RoleScopeCliDevelopment",action:"write"},{roleName:"RoleScopeCliDevelopment",action:"delete"},{roleName:"RoleScopeCliDevelopment",action:"partyOverBulk"}],roleRightsRole:[{roleName:"father",action:"read",scopeNames:"organization"},{roleName:"father",action:"write",scopeNames:"organization"},{roleName:"father",action:"delete",scopeNames:"organization"},{roleName:"father",action:"clone",scopeNames:"organization"},{roleName:"father",action:"move",scopeNames:"organization"},{roleName:"father",action:"addChild",scopeNames:"organization"},{roleName:"father",action:"roleUsers",scopeNames:"organization"},{roleName:"father",action:"includes",scopeNames:"organization"},{roleName:"father",action:"resourceAuthorizations",scopeNames:"organization"},{roleName:"father",action:"atomAuthorizations",scopeNames:"organization"}],roleRightsUser:[{roleName:"father",action:"read",scopeNames:"organization"},{roleName:"father",action:"write",scopeNames:"organization"},{roleName:"father",action:"enable",scopeNames:"organization"},{roleName:"father",action:"disable",scopeNames:"organization"},{roleName:"father",action:"userRoles",scopeNames:"organization"},{roleName:"father",action:"resourceAuthorizations",scopeNames:"organization"},{roleName:"father",action:"atomAuthorizations",scopeNames:"organization"}],roleResources:[{roleName:"father",atomStaticKey:"a-baseadmin:roleManagement"}]}},1700:(e,t,n)=>{const r=n(6986),a=n(2216),o=n(6131),s=n(3596),i=n(4921),c=n(7198),u=n(489),m=n(3112),l=n(7171),d=n(930),p=n(8491),h=n(9843),f=n(9619),x=n(1683),v=n(8240),y=n(9588),g=n(1237),b=n(4076),w=n(3179),R=n(7985),k=n(1444),C=n(772);e.exports=e=>{const t={"version.manager":{mode:"app",bean:r}};return Object.assign(t,{"test.app":{mode:"app",bean:a},"test.class":{mode:"app",bean:o},testctx:{mode:"ctx",bean:s,global:!0},"local.test":{mode:"ctx",bean:i},"event.helloEcho":{mode:"ctx",bean:c},"event.userVerify":{mode:"ctx",bean:u},"event.loginInfo":{mode:"ctx",bean:m},"event.loginInfoDashboard":{mode:"ctx",bean:l},"broadcast.test":{mode:"app",bean:d},"queue.test":{mode:"app",bean:p},"schedule.test":{mode:"app",bean:h},"startup.startupAll":{mode:"app",bean:f},"startup.startupInstance":{mode:"app",bean:x},"middleware.testInterception":{mode:"ctx",bean:v},"middleware.testRestructuring":{mode:"ctx",bean:y},"atom.party":{mode:"app",bean:g},"io.message.test":{mode:"ctx",bean:b},"io.message.simpleChat":{mode:"ctx",bean:w},"sequence.test":{mode:"ctx",bean:R},"stats.tasksUser":{mode:"ctx",bean:k},"stats.tasksInstance":{mode:"ctx",bean:C}}),t}},3751:e=>{e.exports=e=>{const t={};return"unittest"===e.env&&(t.startups={startupAll:{bean:"startupAll"},startupInstance:{bean:"startupInstance",instance:!0}},t.queues={queueTest:{bean:"test"}},t.broadcasts={broadcastTest:{bean:"test"}},t.monkeyed=!1),t.message="Hello World",t.middlewares={testInterception:{bean:"testInterception",global:!1,dependencies:"instance"},testRestructuring:{bean:"testRestructuring",global:!1,dependencies:"instance"}},t.schedules={test:{bean:"test",repeat:{every:3e3},disable:!0}},t.settings={instance:{groupInfo:{slogan:""}},user:{groupInfo:{username:"zhennann"},groupExtra:{panelExtra:{groupInfo:{mobile:"123",sex:1,language:"en-us"}}}}},t.captcha={scenes:{formMobileVerifyTest:{module:"a-authsms",name:"captcha"},formCaptchaTest:null}},t.cms={},t.cms.sites={},t.cms.sites.party={base:{title:"Party",subTitle:"Test",description:"",keywords:""},host:{url:"http://example.com",rootPath:""},language:!1,themes:{default:"test-party"},edit:{mode:0},env:{format:{date:"YYYY-MM-DD",time:"HH:mm:ss"},article2:{recentNum:5},comment:{order:"asc",recentNum:5},brother:{order:"desc"},loadMore:{loadOnScroll:!1}}},t}},25:e=>{e.exports={1001:"Error Test",1002:"Incomplete Parameters"}},811:e=>{e.exports={default:"birthday,dance,garden"}},5288:e=>{e.exports={PartyOver:"Party Over",PartyOverFlag:"Over",OpenIsolateApp:"Open Isolate App"}},470:e=>{e.exports={Party:"宴会",Review:"评审",Reviewing:"评审中",Reviewed:"已评审",Item:"条目",Products:"产品",Snapshots:"快照",About:"关于",Demonstration:"演示",PartyOver:"宴会结束",PartyOverFlag:"结束",OpenIsolateApp:"打开独立App","Home(Test)":"首页（测试）","Dashboard(Test)":"仪表板（测试）","Party Test":"宴会测试","Party Name":"宴会名称","Person Count":"人数","Party Type":"宴会类型","Create Party":"新建宴会","Party List":"宴会列表","Level One":"层级1","Level Two":"层级2","Level Three":"层级3","Well Done":"干得好","Error Test":"错误测试","Hello World":"世界，您好","Fruit Sales":"水果销量","Fruit Sales(Line Chart)":"水果销量（折线图）","Fruit Sales(Pie Chart)":"水果销量（饼图）","Simple Chat":"简单聊天","Article Comment Count":"文章评论数",friend:"朋友",consultant:"咨询",study:"学习",work:"工作",life:"生活",family:"家庭",father:"父亲",mother:"母亲",son:"儿子",daughter:"女儿"}},1636:(e,t,n)=>{e.exports={"en-us":n(5288),"zh-cn":n(470)}},8507:e=>{e.exports=e=>({info:{bean:"simpleChat",title:"Simple Chat",persistence:!0,push:{channels:!1}}})},5662:e=>{e.exports=e=>({info:{bean:"test",title:"Test",persistence:!0,push:{channels:!1}}})},2421:e=>{e.exports=e=>{const t={home:{mode:"dashboard",dashboard:"test-party:dashboardTest"},mine:{layout:!0}},n={presets:{anonymous:{mobile:t,pc:t},authenticated:{mobile:t,pc:t}}};return{atomName:"Party",atomStaticKey:"appParty",atomRevision:2,atomCategoryId:"Demonstration",description:"",appIcon:":business:party",appIsolate:!1,content:JSON.stringify(n),resourceRoles:"authenticated",appSorting:0}}},6623:(e,t,n)=>{const r=n(2421);e.exports=e=>[r(e)]},1823:e=>{const t={root:{id:"e341b99ef3bc495db8a8c09e6ad6203e",widgets:[{id:"a0031e5e2aef421f8434856512dec714",name:"widgetSales",module:"test-party",properties:{title:{type:1,value:""},height:{type:1,value:"auto"},widthLarge:{type:1,value:25},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50}}},{id:"7aefb0431ef24996ba35b596b53372e7",group:!0,widgets:[{id:"fe96b7ede7f5480a9590e92184272455",name:"widgetSalesLine",module:"test-party",properties:{fruit:{bind:{widgetId:"a0031e5e2aef421f8434856512dec714",propertyName:"fruit"},type:2},title:{type:1,value:""},height:{type:1,value:"auto"},dataSource:{bind:{widgetId:"a0031e5e2aef421f8434856512dec714",propertyName:"dataSource"},type:2},widthLarge:{type:1,value:100},widthSmall:{type:1,value:100},widthMedium:{type:1,value:100}}},{id:"9ee4b1234b4a477890ce094e8eb5e332",name:"widgetSalesPie",module:"test-party",properties:{title:{type:1,value:""},height:{type:1,value:"auto"},season:{bind:{widgetId:"a0031e5e2aef421f8434856512dec714",propertyName:"season"},type:2},dataSource:{bind:{widgetId:"a0031e5e2aef421f8434856512dec714",propertyName:"dataSource"},type:2},widthLarge:{type:1,value:100},widthSmall:{type:1,value:100},widthMedium:{type:1,value:100}}}],properties:{title:{type:1,value:""},height:{type:1,value:"auto"},widthLarge:{type:1,value:25},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50}}},{id:"64f7c356b78f45799e4b3072af73866e",name:"widgetSnapshot",module:"test-party",properties:{title:{type:1,value:""},height:{type:1,value:"auto"},snapshots:{type:2,binds:[{id:"fb3eac5b678e488cb4da60a2bddb0f60",widgetId:"fe96b7ede7f5480a9590e92184272455",propertyName:"snapshot"},{id:"40b8e8ea3007418992f0489cba98129e",widgetId:"9ee4b1234b4a477890ce094e8eb5e332",propertyName:"snapshot"}]},widthLarge:{type:1,value:25},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50}}},{id:"8a04bfa743fb42b2a65a104e018ab924",name:"widgetAbout",module:"a-dashboard",properties:{title:{type:1,value:""},height:{type:1,value:"auto"},widthLarge:{type:1,value:25},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50}}}]}};e.exports=e=>({atomName:"Dashboard(Test)",atomStaticKey:"dashboardTest",atomRevision:1,description:"",content:JSON.stringify(t),resourceRoles:"root"})},8666:e=>{const t={root:{id:"e341b99ef3bc495db8a8c09e6ad6203f",widgets:[{atomStaticKey:"test-note:widgetNote",id:"878d9687921641de880b130fa0ff5fd0",properties:{demoKey:{type:1,value:"demo-1"},height:{type:1,value:"auto"},title:{type:1,value:""},widthLarge:{type:1,value:25},widthMedium:{type:1,value:50},widthSmall:{type:1,value:100}}},{atomStaticKey:"test-note:widgetNote",id:"688725d1c2a446fea402580a5af072da",properties:{demoKey:{type:1,value:"demo-2"},height:{type:1,value:"auto"},title:{type:1,value:""},widthLarge:{type:1,value:25},widthMedium:{type:1,value:50},widthSmall:{type:1,value:100}}},{atomStaticKey:"test-party:widgetSimpleChat",id:"650acfa718f645098bf0516628d678f0",properties:{height:{type:1,value:"auto"},title:{type:1,value:""},widthLarge:{type:1,value:25},widthMedium:{type:1,value:50},widthSmall:{type:1,value:100}}},{id:"8a04bfa743fb42b2a65a104e018ab924",module:"a-dashboard",name:"widgetAbout",properties:{height:{type:1,value:"auto"},title:{type:1,value:""},widthLarge:{type:1,value:25},widthMedium:{type:1,value:50},widthSmall:{type:1,value:100}}}]}};e.exports=e=>({atomName:"Home(Test)",atomStaticKey:"homeTest",atomRevision:1,description:"",content:JSON.stringify(t),resourceRoles:"root"})},6034:(e,t,n)=>{const r=n(1823),a=n(8666);e.exports=e=>[r(e),a(e)]},319:e=>{e.exports=e=>({atomName:"Party Type",atomStaticKey:"dictPartyType",atomRevision:1,description:"",dictItems:JSON.stringify([{code:1,name:"birthday",title:"Birthday",options:{emoji:"🎂",icon:{f7:"test-party::birthday"}}},{code:2,name:"dance",title:"Dance",options:{emoji:"💃",icon:{f7:"test-party::dance"}}},{code:3,name:"garden",title:"Garden",options:{emoji:"🏡",icon:{f7:"test-party::garden"}}}]),dictLocales:JSON.stringify({"zh-cn":{Birthday:"生日",Dance:"跳舞",Garden:"花园"}}),resourceRoles:"root"})},4816:(e,t,n)=>{const r=n(319);e.exports=e=>[r(e)]},6212:e=>{e.exports=e=>({atomName:"Party",atomStaticKey:"layoutAtomListParty",atomRevision:0,description:"",layoutTypeCode:3,content:JSON.stringify({info:{orders:[{name:"partyTypeCode",title:"Party Type"},{name:"personCount",title:"Person Count",by:"asc"}]},layouts:{list:{blocks:{}},table:{blocks:{items:{columns:[{dataIndex:"atomName",title:"Atom Name",align:"left",component:{module:"a-baselayout",name:"listLayoutTableCellAtomName"}},{dataIndex:"partyTypeCode",title:"Party Type",align:"left",params:{computed:{expression:"record._partyTypeCodeTitleLocale"}}},{dataIndex:"partyTime",title:"Party Time",align:"center",params:{dateFormat:{lines:!0}}},{dataIndex:"_partyCityTitleLocale",title:"Party City",align:"left"},{dataIndex:"personCount",title:"Person Count",align:"left"},{dataIndex:"userName",title:"Creator",align:"left",component:{module:"a-baselayout",name:"listLayoutTableCellUserName"}},{dataIndex:"createdAt",title:"Created Time",align:"center",params:{dateFormat:{lines:!0}}},{dataIndex:"updatedAt",title:"Modification Time",align:"center",params:{dateFormat:{lines:!0}}}]}}}}}),resourceRoles:"root"})},6962:(e,t,n)=>{const r=n(6212);e.exports=e=>[r(e)]},8472:e=>{e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname);return[{atomName:"Create Party",atomStaticKey:"createParty",atomRevision:1,atomCategoryId:"a-base:menu.Party",resourceType:"a-base:menu",resourceConfig:JSON.stringify({module:t.relativeName,atomClassName:"party",atomAction:"create"}),resourceIcon:"::add",appKey:"test-party:appParty",resourceRoles:"template.system,family"},{atomName:"Party List",atomStaticKey:"listParty",atomRevision:3,atomCategoryId:"a-base:menu.Party",resourceType:"a-base:menu",resourceConfig:JSON.stringify({module:t.relativeName,atomClassName:"party",atomAction:"read"}),resourceIcon:":outline:data-list-outline",appKey:"test-party:appParty",resourceRoles:"template.system,authenticated"},{atomName:"Kitchen-sink",atomStaticKey:"kitchenSink",atomRevision:1,atomCategoryId:"a-base:menu.Tools",resourceType:"a-base:menu",resourceConfig:JSON.stringify({actionModule:t.relativeName,actionPath:"kitchen-sink/index"}),resourceIcon:":business:kitchen-set",appKey:"test-party:appParty",resourceRoles:"root,RoleScopeCliDevelopment"},{atomName:"Kitchen-sink",atomStaticKey:"mineKitchenSink",atomRevision:1,atomCategoryId:"a-base:mine.Tools",resourceType:"a-base:mine",resourceConfig:JSON.stringify({actionModule:t.relativeName,actionPath:"kitchen-sink/index"}),resourceIcon:":business:kitchen-set",appKey:"test-party:appParty",resourceRoles:"root,RoleScopeCliDevelopment",resourceSorting:1},{atomName:"OpenIsolateApp",atomStaticKey:"openIsolateApp",atomRevision:0,atomCategoryId:"a-base:menu.Tools",resourceType:"a-base:menu",resourceConfig:JSON.stringify({actionModule:t.relativeName,actionComponent:"tools",name:"openIsolateApp"}),resourceIcon:"::open-in-new",appKey:"test-party:appParty",resourceRoles:"root",resourceSorting:2},{atomName:"Fruit Sales",atomStaticKey:"widgetSales",atomRevision:0,atomCategoryId:"a-dashboard:widget.Demonstration",resourceType:"a-dashboard:widget",resourceConfig:JSON.stringify({module:t.relativeName,component:"widgetSales"}),resourceRoles:"root"},{atomName:"Fruit Sales(Line Chart)",atomStaticKey:"widgetSalesLine",atomRevision:0,atomCategoryId:"a-dashboard:widget.Demonstration",resourceType:"a-dashboard:widget",resourceConfig:JSON.stringify({module:t.relativeName,component:"widgetSalesLine"}),resourceRoles:"root"},{atomName:"Fruit Sales(Pie Chart)",atomStaticKey:"widgetSalesPie",atomRevision:0,atomCategoryId:"a-dashboard:widget.Demonstration",resourceType:"a-dashboard:widget",resourceConfig:JSON.stringify({module:t.relativeName,component:"widgetSalesPie"}),resourceRoles:"root"},{atomName:"Snapshots",atomStaticKey:"widgetSnapshot",atomRevision:0,atomCategoryId:"a-dashboard:widget.Demonstration",resourceType:"a-dashboard:widget",resourceConfig:JSON.stringify({module:t.relativeName,component:"widgetSnapshot"}),resourceRoles:"root"},{atomName:"Simple Chat",atomStaticKey:"widgetSimpleChat",atomRevision:1,atomCategoryId:"a-dashboard:widget.Demonstration",resourceType:"a-dashboard:widget",resourceConfig:JSON.stringify({module:t.relativeName,component:"widgetSimpleChat"}),resourceRoles:"root"},{atomName:"Article Comment Count",atomStaticKey:"blockArticleCommentCount",atomRevision:0,atomCategoryId:"a-markdown:block.Demonstration",resourceType:"a-markdown:block",resourceConfig:JSON.stringify({default:{interval:1e3},validator:{module:t.relativeName,validator:"blockArticleCommentCount"}}),resourceRoles:"root"}]}},2028:e=>{e.exports=e=>{const t=[];for(var n=0,r=[{atomName:"friend",roleTypeCode:1},{atomName:"consultant",roleTypeCode:1},{atomName:"study",roleTypeCode:2},{atomName:"work",roleTypeCode:2},{atomName:"life",roleTypeCode:2},{atomName:"family",roleTypeCode:1},{atomName:"father",roleTypeCode:4},{atomName:"mother",roleTypeCode:4},{atomName:"son",roleTypeCode:4},{atomName:"daughter",roleTypeCode:4}];n<r.length;n++){const e=r[n];t.push({atomName:e.atomName,atomStaticKey:"role_".concat(e.atomName),atomRevision:1,description:"",roleTypeCode:e.roleTypeCode,resourceRoles:"template.system"})}return t}},6919:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{const n={};return n.languages={async:!0,type:"string",errors:!0,compile:function(){return function(){var n,r=(n=regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=this).bean.base.locales().findIndex((e=>e.value===n))>-1)){t.next=5;break}return t.abrupt("return",!0);case 5:throw a=[{keyword:"x-languages",params:[],message:r.text("Not Expected Value")}],new e.meta.ajv.ValidationError(a);case 7:case"end":return t.stop()}}),t,this)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var s=n.apply(e,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()}},n}},2723:e=>{e.exports=e=>({blockArticleCommentCount:{type:"object",properties:{interval:{type:"number",ebType:"text",ebTitle:"IntervalMS",notEmpty:!0}}}})},975:e=>{e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname),n={};return n.formTest={type:"object",properties:{__groupInfo:{ebType:"group-flatten",ebTitle:"Info Group"},userName:{type:"string",ebType:"text",ebTitle:"Username",ebDescription:"Your Name",ebHelp:"Please type your name",notEmpty:!0},password:{type:"string",ebType:"text",ebTitle:"Password",ebParams:{secure:!0},notEmpty:!0,minLength:6},passwordAgain:{type:"string",ebType:"text",ebTitle:"Password Again",ebParams:{secure:!0},notEmpty:!0,const:{$data:"1/password"}},sex:{type:"number",ebType:"select",ebTitle:"Sex",ebMultiple:!1,ebOptions:[{title:"Male",value:1},{title:"Female",value:2}],ebOptionsBlankAuto:!0,ebParams:{openIn:"sheet",closeOnSelect:!0},notEmpty:!0},rememberMe:{type:"boolean",ebType:"toggle",ebTitle:"Remember Me"},__groupExtra:{ebType:"group-flatten",ebTitle:"Extra Group"},birthday:{type:["object","null"],ebType:"datePicker",ebTitle:"Birthday",ebParams:{dateFormat:"YYYY-MM-DD",header:!1,toolbar:!0},notEmpty:!0,"x-date":!0},language:{type:"string",ebType:"select",ebTitle:"Language",ebOptionsUrl:"/a/base/base/locales",ebOptionsUrlParams:null,ebOptionsBlankAuto:!0,ebParams:{openIn:"sheet",closeOnSelect:!0},"x-languages":!0},avatar:{type:"string",ebType:"file",ebTitle:"Avatar",ebParams:{mode:1,fixed:{width:96,height:96}},notEmpty:!0},motto:{type:"string",ebType:"component",ebRender:{module:t.relativeName,name:"renderMotto",options:{props:{height:"100px"}}},notEmpty:!0},selfIntroduction:{type:"string",ebType:"markdown",ebTitle:"SelfIntroduction"}}},n.formCaptchaTest={type:"object",properties:{userName:{type:"string",ebType:"text",ebTitle:"Username",notEmpty:!0},password:{type:"string",ebType:"text",ebTitle:"Password",ebParams:{secure:!0},notEmpty:!0,minLength:6}}},n.formMobileVerifyTest={type:"object",properties:{mobile:{type:"string",ebType:"text",ebParams:{inputType:"tel"},ebTitle:"Phone Number",notEmpty:!0}}},n}},1660:e=>{e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname),n={};return n.party={type:"object",properties:{__groupBasicInfo:{ebType:"group-flatten",ebTitle:"Basic Info"},atomName:{type:"string",ebType:"text",ebTitle:"Party Name",notEmpty:!0},personCount:{type:"integer",ebType:"text",ebTitle:"Person Count",minimum:1,notEmpty:!0},partyTypeCode:{type:"number",ebType:"dict",ebTitle:"Party Type",ebParams:{dictKey:"test-party:dictPartyType",mode:"tree"},notEmpty:!0},partyTime:{type:["object","null"],ebType:"datePicker",ebTitle:"Party Time",ebParams:{timePicker:!0,dateFormat:"YYYY-MM-DD HH:mm:00",header:!1,toolbar:!0},notEmpty:!0,"x-date":!0},partyCountry:{type:"string",ebType:"dict",ebTitle:"Party Country",ebParams:{dictKey:"a-dictbooster:countries",mode:"select"},ebOptionsBlankAuto:!0},partyCity:{type:"string",ebType:"component",ebTitle:"Party City",ebRender:{module:t.relativeName,name:"renderPartyCity"},ebParams:{separator:"/",leafOnly:!0}},__groupExtra:{ebType:"group-flatten",ebTitle:"Extra"},atomCategoryId:{type:"number",ebType:"category",ebTitle:"Category"},atomTags:{type:["string","null"],ebType:"tags",ebTitle:"Tags"}}},n.partySearch={type:"object",properties:{partyTypeCode:{type:"number",ebType:"dict",ebTitle:"Party Type",ebParams:{dictKey:"test-party:dictPartyType",mode:"tree"},ebOptionsBlankAuto:!0},partyTime:{type:"string",ebType:"dateRange",ebTitle:"Party Time",ebParams:{dateFormat:"YYYY-MM-DD",header:!1,toolbar:!0},ebSearch:{combine:{actionModule:"a-basefront",actionComponent:"combineSearch",name:"dateRange"}}},partyCountry:{type:"string",ebType:"dict",ebTitle:"Party Country",ebParams:{dictKey:"a-dictbooster:countries",mode:"select"},ebOptionsBlankAuto:!0},partyCity:{type:"string",ebType:"component",ebTitle:"Party City",ebRender:{module:t.relativeName,name:"renderPartyCity"},ebParams:{separator:"/",leafOnly:!1},ebSearch:{operators:"likeRight"}}}},n}},2287:e=>{e.exports=e=>({settingsUser:{type:"object",properties:{_myInfo_:{ebType:"text",ebTitle:"My Info",ebComputed:{expression:'groupInfo.username + "(" + (groupExtra.panelExtra.groupInfo.mobile || "-") + ")"',dependencies:["groupInfo.username","groupExtra.panelExtra.groupInfo.mobile"],immediate:!0},ebReadOnly:!0},groupInfo:{type:"object",ebType:"group",ebTitle:"Info Group",properties:{username:{type:"string",ebType:"text",ebTitle:"My Name",notEmpty:!0}}},groupExtra:{type:"object",ebType:"group",ebTitle:"Extra Group",properties:{panelExtra:{type:"object",ebType:"panel",ebTitle:"Extra",$ref:"settingsUserExtra"}}}}},settingsUserExtra:{type:"object",properties:{groupInfo:{type:"object",ebType:"group",ebTitle:"Info Group",ebGroupWhole:!0,properties:{mobile:{type:"string",ebType:"text",ebTitle:"Mobile",notEmpty:!0},sex:{type:"number",ebType:"select",ebTitle:"Sex",ebMultiple:!1,ebOptions:[{title:"Male",value:1},{title:"Female",value:2}],ebParams:{openIn:"page",closeOnSelect:!0},notEmpty:!0},language:{type:"string",ebType:"select",ebTitle:"Language",ebOptionsUrl:"/a/base/base/locales",ebOptionsUrlParams:null,"x-languages":!0,notEmpty:!0}}}}},settingsInstance:{type:"object",properties:{groupInfo:{type:"object",ebType:"group",ebTitle:"Info Group",properties:{slogan:{type:"string",ebType:"text",ebTitle:"Slogan",notEmpty:!0}}}}}})},7189:(e,t,n)=>{const r=n(2723),a=n(975),o=n(1660),s=n(2287);e.exports=e=>{const t={};return Object.assign(t,r(e)),Object.assign(t,a(e)),Object.assign(t,o(e)),Object.assign(t,s(e)),t}},5555:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(3614);e.exports=e=>{class t extends e.Controller{async languages(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ctx.params.query,r=n?a.filter((e=>0===e.name.toLowerCase().indexOf(n.toLowerCase()))):[],t.ctx.success(r);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},3311:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("extend2"),s={userName:"",password:"",passwordAgain:"",sex:0,birthday:null,language:"",avatar:"",rememberMe:!1,motto:""};e.exports=e=>{class t extends e.Controller{async load(){var e=this;return a(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getCacheName(),t.next=3,e.ctx.cache.db.get(n);case 3:r=t.sent,r=o(!0,{},s,r),e.ctx.success(r);case 6:case"end":return t.stop()}}),t)})))()}async saveSimple(){var e=this;return a(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ctx.request.body.data,r=e._getCacheName(),t.next=4,e.ctx.cache.db.set(r,n);case 4:e.ctx.success();case 5:case"end":return t.stop()}}),t)})))()}async saveValidation(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveSimple();case 2:case"end":return t.stop()}}),t)})))()}signup(){this.ctx.success()}mobileVerify(){this.ctx.success()}_getCacheName(){const e=this.ctx.state.user.op;return"__formTest:".concat(e.id)}}return t}},1719:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async echo(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success("Hello World");case 2:case"end":return t.stop()}}),t)})))()}async echo2(){var e=this;return n(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.config.message,e.ctx.success(n);case 2:case"end":return t.stop()}}),t)})))()}async echo3(){var e=this;return n(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.text("Hello World"),e.ctx.success(n);case 2:case"end":return t.stop()}}),t)})))()}async echo4(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.request.body,r=n.message,a=n.markCount,o="".concat(r).concat(new Array(a+1).join("!")),e.ctx.success(o);case 3:case"end":return t.stop()}}),t)})))()}async echo6(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.db.insert("testParty",{iid:e.ctx.instance.id,deleted:0,personCount:3});case 2:return n=t.sent,r=n.insertId,t.next=6,e.ctx.db.update("testParty",{id:r,personCount:5});case 6:return t.next=8,e.ctx.db.get("testParty",{id:r});case 8:return a=t.sent,t.next=11,e.ctx.db.delete("testParty",{id:r});case 11:e.ctx.success(a);case 12:case"end":return t.stop()}}),t)})))()}async echo7(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.model.party.insert({personCount:3});case 2:return n=t.sent,r=n.insertId,t.next=6,e.ctx.model.party.update({id:r,personCount:6});case 6:return t.next=8,e.ctx.model.party.get({id:r});case 8:return a=t.sent,t.next=11,e.ctx.model.party.delete({id:r});case 11:e.ctx.success(a);case 12:case"end":return t.stop()}}),t)})))()}async echo8(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.model.party.insert({personCount:3});case 2:return n=t.sent,r=n.insertId,t.next=6,e.ctx.model.party.update({id:r,personCountA:6});case 6:e.ctx.success();case 7:case"end":return t.stop()}}),t)})))()}async echo9(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success("ok");case 1:case"end":return t.stop()}}),t)})))()}}return t}},9354:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.Controller{async list(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.ctx.request.body.page,t=n.ctx.bean.util.page(t,!1),r=[],a=0;case 4:if(!(a<t.size)){e.next=12;break}if(!((o=t.index+a+1)>89)){e.next=8;break}return e.abrupt("break",12);case 8:r.push({id:o,title:"".concat(n.ctx.text("Item")," - ").concat(o)});case 9:a++,e.next=4;break;case 12:n.ctx.successMore(r,t.index,t.size);case 13:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},3624:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async over(){var e=this;return n(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.service.party.over({key:e.ctx.request.body.key,user:e.ctx.state.user.op});case 2:n=t.sent,e.ctx.success(n);case 4:case"end":return t.stop()}}),t)})))()}async overBulk(){var e=this;return n(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.service.party.overBulk({keys:e.ctx.request.body.keys,user:e.ctx.state.user.op});case 2:n=t.sent,e.ctx.success(n);case 4:case"end":return t.stop()}}),t)})))()}}return t}},9724:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}const u=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async all(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,r,o,s,i,c,m,l,d,p,h,f,x,v,y,g,b,w,R,k,C,P,S,T,N;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.bean.atomClass.get({atomClassName:"party"});case 2:return n=t.sent,r=e.ctx.cache.mem.get("userIds"),t.next=6,e._testCheckList("formal",r,[["Tom",0],["Jane",0],["Jimmy",0],["Smith",0],["",0]],((e,t,n)=>{u.equal(e,t,n)}));case 6:return t.next=8,e.ctx.bean.atom.create({atomClass:n,options:{preferredRole:!0},user:{id:r.Tom}});case 8:return o=t.sent,t.next=11,e.ctx.bean.atom.write({key:o,item:{atomName:"test:all",personCount:3},user:{id:r.Tom}});case 11:return t.next=13,e._testCheckList("draft",r,[["Tom",1],["Jane",0],["Jimmy",0],["Smith",0],["",0]],((e,t,n)=>{u.equal(e,t,n)}));case 13:return t.next=15,e.ctx.bean.atom.submit({key:o,options:{ignoreFlow:!0},user:{id:r.Tom}});case 15:return s=t.sent,i=s.formal.key,t.next=19,e._testCheckList("formal",r,[["Tom",1],["Jane",1],["Jimmy",1],["Smith",1],["",1]],((e,t,n)=>{u.equal(e,t,n)}));case 19:return t.next=21,e.ctx.bean.atom.write({key:o,item:{personCount:8},user:{id:r.Tom}});case 21:return t.next=23,e.ctx.bean.atom.read({key:o,user:{id:r.Tom}});case 23:return c=t.sent,u.equal(c.personCount,8),t.next=27,e.ctx.bean.atom.select({atomClass:n,options:{where:{atomName:{val:"test:all",op:"likeRight"}},orders:[["a.createdAt","desc"]],page:{index:0,size:0},stage:"formal"},user:{id:r.Tom}});case 27:m=t.sent,u.equal(m.length,1),l=[["Tom",i.atomId,!0]],d=0,p=l;case 31:if(!(d<p.length)){t.next=40;break}return h=a(p[d],3),f=h[0],x=h[1],v=h[2],t.next=35,e.ctx.bean.atom.checkRightRead({atom:{id:x},user:{id:r[f]}});case 35:s=t.sent,u.equal(!!s,v,f);case 37:d++,t.next=31;break;case 40:y=[["Tom",i.atomId,!0],["Tomson",i.atomId,!1]],g=0,b=y;case 42:if(!(g<b.length)){t.next=51;break}return w=a(b[g],3),f=w[0],x=w[1],v=w[2],t.next=46,e.ctx.bean.atom.checkRightAction({atom:{id:x},action:"write",user:{id:r[f]}});case 46:s=t.sent,u.equal(!!s,v,f);case 48:g++,t.next=42;break;case 51:R=[["Tom",i.atomId,!0],["Tomson",i.atomId,!1]],k=0,C=R;case 53:if(!(k<C.length)){t.next=62;break}return P=a(C[k],3),f=P[0],x=P[1],v=P[2],t.next=57,e.ctx.bean.atom.checkRightAction({atom:{id:x},action:"delete",user:{id:r[f]}});case 57:s=t.sent,u.equal(!!s,v,f);case 59:k++,t.next=53;break;case 62:S=0,T=[["Tom",!0],["Jimmy",!0],["Smith",!1]];case 64:if(!(S<T.length)){t.next=73;break}return N=a(T[S],2),f=N[0],v=N[1],t.next=68,e.ctx.bean.atom.checkRightCreate({atomClass:n,user:{id:r[f]}});case 68:s=t.sent,u.equal(!!s,v,f);case 70:S++,t.next=64;break;case 73:return t.next=75,e.ctx.bean.atom.delete({key:i,user:{id:r.Tom}});case 75:return t.next=77,e._testCheckList("formal",r,[["Tom",0],["Jane",0],["Jimmy",0],["Smith",0],["",0]],((e,t,n)=>{u.equal(e,t,n)}));case 77:e.ctx.success();case 78:case"end":return t.stop()}}),t)})))()}async _testCheckList(e,t,n,o){var s=this;return c(regeneratorRuntime.mark((function i(){var c,u,m,l,d,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c=r(n),i.prev=1,c.s();case 3:if((u=c.n()).done){i.next=11;break}return m=a(u.value,2),l=m[0],d=m[1],i.next=7,s.ctx.bean.atom.select({options:{where:{atomName:"test:all","b.module":"test-party"},orders:null,page:null,stage:e},user:l?{id:t[l]}:null});case 7:p=i.sent,o(p.length,d,l);case 9:i.next=3;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),c.e(i.t0);case 16:return i.prev=16,c.f(),i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[1,13,16,19]])})))()}}return t}},5632:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async checkRightCreate(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success(e.ctx.request.body.atomClass);case 1:case"end":return t.stop()}}),t)})))()}async checkRightRead(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success(e.ctx.request.body.key);case 1:case"end":return t.stop()}}),t)})))()}async checkRightWrite(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success(e.ctx.request.body.key);case 1:case"end":return t.stop()}}),t)})))()}async checkRightAction(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success(e.ctx.request.body.key);case 1:case"end":return t.stop()}}),t)})))()}}return t}},1986:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async starLabel(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o,s,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ctx.bean.atomClass.get({atomClassName:"party"});case 2:return n=e.sent,r=t.ctx.state.user.op,e.next=6,t.ctx.bean.atom.create({atomClass:n,options:{preferredRole:!0},user:r});case 6:return o=e.sent,e.next=9,t.ctx.bean.atom.write({key:o,item:{atomName:"test:starLabel"},user:r});case 9:return e.next=11,t.ctx.bean.atom.submit({key:o,options:{ignoreFlow:!0},user:r});case 11:return s=e.sent,i=s.formal.key,e.next=15,t.ctx.bean.atom.read({key:i,user:r});case 15:return c=e.sent,a.equal(c.star,null),a.equal(c.labels,null),e.next=20,t.ctx.bean.atom.star({key:i,atom:{star:1},user:r});case 20:return e.next=22,t.ctx.bean.atom.labels({key:i,atom:{labels:[1]},user:r});case 22:return e.next=24,t.ctx.bean.atom.read({key:i,user:r});case 24:return c=e.sent,a.equal(c.star,1),a.equal(c.labels,"[1]"),e.next=29,t.ctx.bean.atom.select({user:r,options:{star:1,where:{atomName:"test:starLabel"},stage:"formal"}});case 29:return u=e.sent,a.equal(u.length,1),e.next=33,t.ctx.bean.atom.select({user:r,options:{label:1,where:{atomName:"test:starLabel"},stage:"formal"}});case 33:return u=e.sent,a.equal(u.length,1),e.next=37,t.ctx.bean.atom.select({user:r,options:{label:2,where:{atomName:"test:starLabel"},stage:"formal"}});case 37:return u=e.sent,a.equal(u.length,0),e.next=41,t.ctx.bean.atom.star({key:i,atom:{star:0},user:r});case 41:return e.next=43,t.ctx.bean.atom.labels({key:i,atom:{labels:null},user:r});case 43:return e.next=45,t.ctx.bean.atom.read({key:i,user:r});case 45:return c=e.sent,a.equal(c.star,null),a.equal(c.labels,null),e.next=50,t.ctx.bean.atom.delete({key:i,user:r});case 50:t.ctx.success();case 51:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},8621:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");function o(e){return new Promise((t=>setTimeout(t,e)))}e.exports=e=>{class t extends e.Controller{async db(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="__test:name:db",e.next=3,t.ctx.cache._db.getset(s,"zhen.nann");case 3:return r=e.sent,a.equal(r,void 0),e.next=7,t.ctx.cache._db.getset(s,"zhennann");case 7:return r=e.sent,a.equal(r,"zhen.nann"),e.next=11,t.ctx.cache._db.has(s);case 11:return n=e.sent,a.equal(n,!0),e.next=15,t.ctx.cache._db.get(s);case 15:return r=e.sent,a.equal(r,"zhennann"),e.next=19,t.ctx.cache._db.remove(s);case 19:return e.next=21,t.ctx.cache._db.has(s);case 21:return n=e.sent,a.equal(n,!1),e.next=25,t.ctx.cache._db.set(s,"zhennann",2e3);case 25:return e.next=27,t.ctx.cache._db.get(s);case 27:return r=e.sent,a.equal(r,"zhennann"),i=t.ctx.cache._db.module(t.ctx.module.info.relativeName),e.next=32,i.get(s);case 32:return r=e.sent,a.equal(r,"zhennann"),e.next=36,o(3e3);case 36:return e.next=38,t.ctx.cache._db.get(s);case 38:r=e.sent,a.equal(r,void 0),t.ctx.success();case 41:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},5234:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");function o(e){return new Promise((t=>setTimeout(t,e)))}e.exports=e=>{class t extends e.Controller{async mem(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="__test:name:mem",r=t.ctx.cache.mem.getset(s,"zhen.nann"),a.equal(r,void 0),r=t.ctx.cache.mem.getset(s,"zhennann"),a.equal(r,"zhen.nann"),n=t.ctx.cache.mem.has(s),a.equal(!!n,!0),r=t.ctx.cache.mem.get(s),a.equal(r,"zhennann"),t.ctx.cache.mem.remove(s),n=t.ctx.cache.mem.has(s),a.equal(n,null),t.ctx.cache.mem.set(s,"zhennann",1e3),r=t.ctx.cache.mem.get(s),a.equal(r,"zhennann"),i=t.ctx.cache.mem.module(t.ctx.module.info.relativeName),r=i.get(s),a.equal(r,"zhennann"),e.next=20,o(1500);case 20:r=t.ctx.cache.mem.get(s),a.equal(r,null),t.ctx.success();case 23:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},3778:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");function o(e){return new Promise((t=>setTimeout(t,e)))}e.exports=e=>{class t extends e.Controller{async redis(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="__test:name:redis",e.next=3,t.ctx.cache.redis.getset(s,"zhen.nann");case 3:return r=e.sent,a.equal(r,void 0),e.next=7,t.ctx.cache.redis.getset(s,"zhennann");case 7:return r=e.sent,a.equal(r,"zhen.nann"),e.next=11,t.ctx.cache.redis.has(s);case 11:return n=e.sent,a.equal(n,!0),e.next=15,t.ctx.cache.redis.get(s);case 15:return r=e.sent,a.equal(r,"zhennann"),e.next=19,t.ctx.cache.redis.remove(s);case 19:return e.next=21,t.ctx.cache.redis.has(s);case 21:return n=e.sent,a.equal(n,!1),e.next=25,t.ctx.cache.redis.set(s,"zhennann",2e3);case 25:return e.next=27,t.ctx.cache.redis.get(s);case 27:return r=e.sent,a.equal(r,"zhennann"),i=t.ctx.cache.redis.module(t.ctx.module.info.relativeName),e.next=32,i.get(s);case 32:return r=e.sent,a.equal(r,"zhennann"),e.next=36,o(3e3);case 36:return e.next=38,t.ctx.cache.redis.get(s);case 38:r=e.sent,a.equal(r,void 0),t.ctx.success();case 41:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},546:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async test(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ctx.config.message,a.equal(n,"Hello World"),n=t.ctx.config.module("test-party").message,a.equal(n,"Hello World"),t.ctx.success();case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},9618:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}n(5638)("assert"),e.exports=e=>{class t extends e.Controller{async enus(){var e=this;return a(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.config.message,r={enus:e.ctx.text(n),zhcn:e.ctx.text.locale("zh-cn",n)},e.ctx.success(r);case 3:case"end":return t.stop()}}),t)})))()}async zhcn(){var e=this;return a(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.config.message,r={zhcn:e.ctx.text(n),enus:e.ctx.text.locale("en-us",n)},e.ctx.success(r);case 3:case"end":return t.stop()}}),t)})))()}}return t}},2791:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async performAction(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ctx.request.body.id,t.next=3,e.ctx.meta.util.performAction({method:"post",url:"test/ctx/performAction/echo",body:{id:n}});case 3:r=t.sent,e.ctx.success(r);case 5:case"end":return t.stop()}}),t)})))()}async echo(){var e=this;return n(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.request.body.id,e.ctx.success(n);case 2:case"end":return t.stop()}}),t)})))()}}return t}},6240:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async request(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.equal(e.ctx.params.id,"1"),o.equal(e.ctx.getInt("id"),1),o.equal(e.ctx.query.age,"18"),o.equal(e.ctx.getInt("age"),18),o.equal(e.ctx.request.body.userName,"zhennann"),o.equal(e.ctx.getStr("userName"),"zhennann"),e.ctx.success();case 7:case"end":return t.stop()}}),t)})))()}async requestXML(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.getPayload();case 2:n=t.sent,e.ctx.status=200,e.ctx.type="text/xml",e.ctx.body=n.toString();case 6:case"end":return t.stop()}}),t)})))()}}return t}},7772:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async success(){var e=this;return n(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={userName:"zhennann"},e.ctx.success(n);case 2:case"end":return t.stop()}}),t)})))()}async successMore(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.request.body.page,r=[{userName:"zhennann"},{userName:"root"}],e.ctx.successMore(r,n.index,n.size);case 3:case"end":return t.stop()}}),t)})))()}async fail(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.fail(1001);case 1:case"end":return t.stop()}}),t)})))()}async throwError(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.throw(1001);case 1:case"end":return t.stop()}}),t)})))()}}return t}},5484:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async session(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.ctx.session._key1=1,t.next=3,e.ctx.meta.util.performAction({method:"post",url:"test/ctx/session/echo1"});case 3:n=t.sent,o.equal(n.user.op.id,e.ctx.state.user.op.id),o.equal(n.instance.id,e.ctx.instance.id),o.equal(e.ctx.session._key2,2),e.ctx.success();case 8:case"end":return t.stop()}}),t)})))()}async echo1(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.meta.util.performAction({method:"post",url:"test/ctx/session/echo2"});case 2:n=t.sent,e.ctx.success(n);case 4:case"end":return t.stop()}}),t)})))()}async echo2(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.equal(e.ctx.session._key1,1),e.ctx.session._key2=2,e.ctx.success({user:e.ctx.state.user,instance:e.ctx.instance});case 3:case"end":return t.stop()}}),t)})))()}}return t}},5055:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async tail(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ctx.meta._tail_test=1,t.ctx.tail((()=>{a.equal(t.ctx.meta._tail_test,2),t.ctx.tail((()=>{a.equal(t.ctx.meta._tail_test,3)})),t.ctx.meta._tail_test=3})),t.ctx.meta._tail_test=2,t.ctx.success();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},5656:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.Controller{async transaction(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.ctx.state.user.op,r=n.ctx.request.body.key,a=n.ctx.request.body.item,e.next=5,n.ctx.bean.atom.write({key:r,item:{atomName:a.atomName},user:t});case 5:return e.next=7,n.ctx.bean.atom.write({key:r,item:{personCount:a.personCount},user:t});case 7:n.ctx.success();case 8:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},2779:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname);class n extends e.Controller{async hello(){var e=this;return a(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={text:"hello"},s="world",n.next=4,e.ctx.bean.event.invoke({module:t.relativeName,name:"hello",data:r,result:s,next:function(){var e=a(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.result="".concat(t.result,".hello"),e.next=3,n();case 3:t.result="hello.".concat(t.result);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});case 4:s=n.sent,o.equal(r.text,"hello echo"),o.equal(s,"echo.hello.world.echo.hello"),e.ctx.success();case 8:case"end":return n.stop()}}),n)})))()}}return n}},5744:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname);class n extends e.Controller{async bean(){var t=this;return a(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=3,a=4,o.equal(e.bean["test-party.test.app"],e.bean["test-party.test.app"]),s=e.bean["test-party.test.app"].actionSync({a:r,b:a}),o.equal(s,"".concat(r+a,":regexpaop")),n.next=7,e.bean["test-party.test.app"].actionAsync({a:r,b:a});case 7:return s=n.sent,o.equal(s,"".concat(r+a,":regexpaop")),o.equal(t.ctx.bean.testctx,t.ctx.bean.testctx),s=t.ctx.bean.testctx.magic,o.equal(s,"magic:simpleaop"),t.ctx.bean.testctx.name="test-party:regexpaop:simpleaop",s=t.ctx.bean.testctx.name,o.equal(s,"test-party:regexpaop:simpleaop"),s=t.ctx.bean.testctx.actionSync({a:r,b:a}),o.equal(s,"".concat(r+a,":regexpaop:simpleaop")),n.next=19,t.ctx.bean.testctx.actionAsync({a:r,b:a});case 19:return s=n.sent,o.equal(s,"".concat(r+a,":regexpaop:simpleaop")),n.next=23,t.ctx.bean.testctx.actionAsync2({a:r,b:a});case 23:return s=n.sent,o.equal(s,"test-party:regexpaop:simpleaop:".concat(r+a,":regexpaop:simpleaop")),n.next=27,t.ctx.bean.testctx.actionAsync3({a:r,b:a});case 27:return s=n.sent,o.equal(s,"test-party:regexpaop:simpleaop:".concat(r+a,":regexpaop:simpleaop")),o.equal(t.ctx.bean["test-party.test.class"],t.ctx.bean["test-party.test.class"]),s=t.ctx.bean["test-party.test.class"].actionSync({a:r,b:a}),o.equal(s,"".concat(r+a,":regexpaop")),n.next=34,t.ctx.bean["test-party.test.class"].actionAsync({a:r,b:a});case 34:s=n.sent,o.equal(s,"".concat(r+a,":regexpaop")),t.ctx.success();case 37:case"end":return n.stop()}}),n)})))()}async local(){var e=this;return a(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.ctx.bean._getBean(t.relativeName,"local.test").name,o.equal(r,"localTest"),r=e.ctx.bean.local.test.name,o.equal(r,"localTest"),r=e.ctx.bean.local.module(t.relativeName).test.name,o.equal(r,"localTest"),e.ctx.success();case 7:case"end":return n.stop()}}),n)})))()}}return n}},2289:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.Controller{async emit(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.ctx.meta.util.broadcastEmit({locale:"zh-cn",module:"test-party",broadcastName:"broadcastTest",data:{message:"hello"}}),n.ctx.success();case 2:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},481:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async category(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={module:"test-party",atomClassName:"party"},e.next=3,t.ctx.bean.category.add({atomClass:n,data:{language:"en-us",categoryName:"levelOne",categoryIdParent:0}});case 3:return r=e.sent,a(r>0),e.next=7,t.ctx.bean.category.parseCategoryName({atomClass:n,language:"en-us",categoryName:"levelOne.levelTwo.levelThree",force:!0});case 7:o=e.sent,a.equal(o.categoryName,"levelThree"),t.ctx.success();case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},5655:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.Controller{async httpLog(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.ctx.success("this is a test for httpLog");case 1:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},3282:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async instance(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.equal(!!t.ctx.instance.id,!0),a.equal(!!t.ctx.instance.config,!0),t.ctx.success();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},8315:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async interception(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.request.body,r=n.a,a=n.b,o=parseInt(r)+parseInt(a),e.ctx.success(o);case 3:case"end":return t.stop()}}),t)})))()}async restructuring(){var e=this;return n(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.request.body,r=n.a,a=n.b,o=r+a,e.ctx.success(o);case 3:case"end":return t.stop()}}),t)})))()}}return t}},2362:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{const t="--model--test--",n=[{atomStaticKey:t,atomName:"atom-one",atomStage:0},{atomStaticKey:t,atomName:"atom-two",atomStage:1},{atomStaticKey:t,atomName:"atom-three",atomStage:2}];class o extends e.Controller{async model(){var e,o=this;return(e=regeneratorRuntime.mark((function e(){var r,s,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.ctx.model.module("a-base").atom,e.next=3,r.insert(n[0]);case 3:return e.next=5,r.insert(n.slice(1));case 5:return e.next=7,r.select({where:{atomStaticKey:t}});case 7:return s=e.sent,a.equal(s.length,3),e.next=11,r.get({atomStaticKey:t,atomName:"atom-one"});case 11:return i=e.sent,e.next=14,r.update({id:i.id,readCount:i.readCount+1});case 14:return e.next=16,r.update({readCount:1},{where:{atomStaticKey:t},columns:["readCount"]});case 16:return e.next=18,r.select({where:{atomStaticKey:[t]}});case 18:return s=e.sent,a.equal(s.length,3),e.next=22,r.select({where:{atomStaticKey:{op:"in",val:[t]}}});case 22:return s=e.sent,a.equal(s.length,3),e.next=26,r.select({where:{atomStaticKey:[t],atomName:null}});case 26:return s=e.sent,a.equal(s.length,0),e.next=30,r.select({where:{atomStaticKey:[t],atomName:{op:"notNull"}}});case 30:return s=e.sent,a.equal(s.length,3),e.next=34,r.select({where:{atomStaticKey:[t],atomName:{op:"likeRight",val:"atom-"}}});case 34:return s=e.sent,a.equal(s.length,3),e.next=38,r.select({where:{atomStaticKey:[t],__or__:[{atomName:"atom-one"},{atomName:"atom-two"}]}});case 38:return s=e.sent,a.equal(s.length,2),e.next=42,r.delete({atomStaticKey:t});case 42:return e.next=44,r.count({atomStaticKey:t});case 44:c=e.sent,a.equal(c,0),o.ctx.success();case 47:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return o}},1590:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async resourceCheckSuccess(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.state.user.op,o.equal(n.userName,"root"),e.ctx.success();case 3:case"end":return t.stop()}}),t)})))()}async resourceCheckFail(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.ctx.state.user.op,o.equal(n.userName,"root"),e.ctx.success();case 3:case"end":return t.stop()}}),t)})))()}}return t}},3648:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async progress(){var e=this;return n(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.bean.progress.create();case 2:r=t.sent,e.ctx.runInBackground(n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._progressInBackground({progressId:r});case 2:case"end":return t.stop()}}),t)})))),e.ctx.success({progressId:r});case 5:case"end":return t.stop()}}),t)})))()}async _progressInBackground(e){var t=this;return n(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.progressId,n.prev=1,n.next=4,t._levelOne({progressId:r,progressNo:0});case 4:return n.next=6,t.ctx.bean.progress.done({progressId:r,message:t.ctx.text("Well Done")});case 6:t.ctx.success(!0),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,t.ctx.bean.progress.error({progressId:r,message:n.t0.message});case 13:throw n.t0;case 14:case"end":return n.stop()}}),n,null,[[1,9]])})))()}async _levelOne(e){var t=this;return n(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.progressId,a=e.progressNo,o=2,s=0,i=0;case 4:if(!(i<o)){n.next=15;break}return c="".concat(t.ctx.text("Level One"),": ").concat(i+1),n.next=8,t.ctx.bean.progress.update({progressId:r,progressNo:a,total:o,progress:s++,text:c});case 8:return n.next=10,t.ctx.bean.util.sleep(1500);case 10:return n.next=12,t._levelTwo({progressId:r,progressNo:a+1});case 12:i++,n.next=4;break;case 15:case"end":return n.stop()}}),n)})))()}async _levelTwo(e){var t=this;return n(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.progressId,a=e.progressNo,o=2,s=0,i=0;case 4:if(!(i<o)){n.next=15;break}return c="".concat(t.ctx.text("Level Two"),": ").concat(i+1),n.next=8,t.ctx.bean.progress.update({progressId:r,progressNo:a,total:o,progress:s++,text:c});case 8:return n.next=10,t.ctx.bean.util.sleep(1500);case 10:return n.next=12,t._levelThree({progressId:r,progressNo:a+1});case 12:i++,n.next=4;break;case 15:case"end":return n.stop()}}),n)})))()}async _levelThree(e){var t=this;return n(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.progressId,a=e.progressNo,o=3,s=0,i=0;case 4:if(!(i<o)){n.next=13;break}return c="".concat(t.ctx.text("Level Three"),": ").concat(i+1),n.next=8,t.ctx.bean.progress.update({progressId:r,progressNo:a,total:o,progress:s++,text:c});case 8:return n.next=10,t.ctx.bean.util.sleep(1500);case 10:i++,n.next=4;break;case 13:case"end":return n.stop()}}),n)})))()}}return t}},1077:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async pushAsync(){var e=this;return a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.meta.util.queuePushAsync({module:"test-party",queueName:"queueTest",data:{a:1,b:2}});case 2:n=t.sent,o.equal(n,3),e.ctx.success();case 5:case"end":return t.stop()}}),t)})))()}async push(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.meta.util.queuePush({module:"test-party",queueName:"queueTest",data:{a:1,b:2}}),e.ctx.success();case 2:case"end":return t.stop()}}),t)})))()}}return t}},5047:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.Controller{async sendMail(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.ctx.request.body.data,e.next=3,n.ctx.bean.mail.send({scene:"test",message:t});case 3:n.ctx.success();case 4:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},2462:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638),s=o("assert"),i=o("p-map");e.exports=e=>{class t extends e.Controller{async sequence(){var e=this;return a(regeneratorRuntime.mark((function t(){var n,r,o,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[1,2,3,4,5],t.next=3,e.ctx.bean.sequence.current("test");case 3:return o=t.sent,s.equal(o,0),t.next=7,e.ctx.bean.sequence.next("test");case 7:return c=t.sent,s.equal(c,1),t.next=11,e.ctx.bean.sequence.current("test");case 11:return o=t.sent,s.equal(o,1),t.next=15,e.ctx.bean.sequence.reset("test");case 15:return u=e.ctx.bean.sequence.module(e.ctx.module.info.relativeName),t.next=18,u.next("test");case 18:return c=t.sent,s.equal(c,1),t.next=22,u.current("test");case 22:return o=t.sent,s.equal(o,1),t.next=26,u.reset("test");case 26:return t.next=28,i(n,a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.next("test");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 28:return r=t.sent,s.equal(new Set(r).size,new Set(n).size),t.next=32,u.reset("test");case 32:return t.next=34,i(n,a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ctx.meta.util.executeBeanIsolate({beanModule:e.ctx.module.info.relativeName,transaction:!0,fn:function(){var e=a(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx,e.next=3,n.bean.sequence.next("test");case 3:return r=e.sent,e.next=6,n.bean.util.sleep(50);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));case 34:return r=t.sent,s.equal(new Set(r).size,new Set(n).size,"sequence next: ".concat(r)),t.next=38,u.reset("test");case 38:e.ctx.success();case 39:case"end":return t.stop()}}),t)})))()}}return t}},8855:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async settings(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ctx.bean.settings.getUser({name:"/groupInfo/username"});case 2:return n=e.sent,a.equal(n,"zhennann"),e.next=6,t.ctx.bean.settings.getUser({name:"/groupExtra/panelExtra/groupInfo/language"});case 6:return n=e.sent,a.equal(n,"en-us"),e.next=10,t.ctx.bean.settings.loadSettingsUser();case 10:return n=e.sent,a.equal(n.groupInfo.username,"zhennann"),n.groupExtra.panelExtra.groupInfo.language="zh-cn",e.next=15,t.ctx.bean.settings.saveSettingsUser({data:n});case 15:return e.next=17,t.ctx.bean.settings.getUser({name:"/groupExtra/panelExtra/groupInfo/language"});case 17:return n=e.sent,a.equal(n,"zh-cn"),e.next=21,t.ctx.bean.settings.getInstance({name:"/groupInfo/slogan"});case 21:return n=e.sent,a.equal(n,""),e.next=25,t.ctx.bean.settings.loadSettingsInstance();case 25:return n=e.sent,a.equal(n.groupInfo.slogan,""),n.groupInfo.slogan="Less is more, while more is less",e.next=30,t.ctx.bean.settings.saveSettingsInstance({data:n});case 30:return e.next=32,t.ctx.bean.settings.getInstance({name:"/groupInfo/slogan"});case 32:n=e.sent,a.equal(n,"Less is more, while more is less"),t.ctx.success();case 35:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},1742:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname);class r extends e.Controller{async publish(){var e=this;return n(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.ctx.request.body.options,(a=e.ctx.request.body.message).userIdFrom=e.ctx.state.user.op.id,n.next=5,e.ctx.bean.io.publish({path:"/test/party/test",message:a,messageClass:{module:t.relativeName,messageClassName:"test"},options:r});case 5:o=n.sent,e.ctx.success(o);case 7:case"end":return n.stop()}}),n)})))()}async simpleChat(){var e=this;return n(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.ctx.request.body.options,(a=e.ctx.request.body.message).userIdFrom=e.ctx.state.user.op.id,n.next=5,e.ctx.bean.io.publish({path:"/test/party/simpleChat",message:a,messageClass:{module:t.relativeName,messageClassName:"simpleChat"},options:r});case 5:o=n.sent,e.ctx.success(o);case 7:case"end":return n.stop()}}),n)})))()}}return r}},1504:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}const o=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async stats(){var e=this;return a(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ctx.cache.mem.get("userIds"),r={id:n.Tom},t.next=4,e.ctx.bean.stats.get({name:"tasksUser",nameSub:"department.project",user:r});case 4:return a=t.sent,o.equal(a,void 0),t.next=8,e.ctx.bean.stats.notifyAsync({name:"tasksUser",nameSub:"department.project",user:r});case 8:return t.next=10,e.ctx.bean.stats.get({name:"tasksUser",nameSub:"department.project",user:r});case 10:return a=t.sent,o.equal(a,1),t.next=14,e.ctx.bean.stats.get({name:"tasksInstance",user:r});case 14:a=t.sent,o.equal(a,1),e.ctx.success();case 17:case"end":return t.stop()}}),t)})))()}async plus(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.bean.stats.notify({name:"tasksUser",nameSub:"department.project"}),e.ctx.success();case 2:case"end":return t.stop()}}),t)})))()}}return t}},2251:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async status(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="__test_enable",e.next=3,t.ctx.bean.status.get(n);case 3:return r=e.sent,a.equal(r,void 0),e.next=7,t.ctx.bean.status.set(n,!0);case 7:return e.next=9,t.ctx.bean.status.get(n);case 9:return r=e.sent,a.equal(r,!0),o=t.ctx.bean.status.module(t.ctx.module.info.relativeName),e.next=14,o.get(n);case 14:return r=e.sent,a.equal(r,!0),e.next=18,t.ctx.bean.status.set(n,!1);case 18:return e.next=20,t.ctx.bean.status.get(n);case 20:r=e.sent,a.equal(r,!1),t.ctx.success();case 23:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},1288:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async tag(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={module:"test-party",atomClassName:"party"},e.next=3,t.ctx.bean.tag.add({atomClass:n,data:{tagName:"tagOne"}});case 3:return r=e.sent,a(r>0),e.next=7,t.ctx.bean.tag.parseTags({atomClass:n,tagName:"tagOne,tagTwo,tagThree",force:!0});case 7:o=e.sent,a.equal(o.length,3),t.ctx.success();case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},9124:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class t extends e.Controller{async success(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success();case 1:case"end":return t.stop()}}),t)})))()}async fail(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success();case 1:case"end":return t.stop()}}),t)})))()}async schema(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ctx.success();case 1:case"end":return t.stop()}}),t)})))()}}return t}},6013:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{const n=e.meta.mockUtil.parseInfoFromPackage(__dirname);class r extends e.Controller{async test(){var e,r=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.ctx.success(n.relativeName);case 1:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return r}},1796:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async role(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o,s,i,c,u,m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ctx.cache.mem.get("userIds"),r=[0,1,2,3,4],o=0,s=[{userName:"root",childrenTop:{count:1,roleNames:"root"},children:{count:2,roleNames:"anonymous,authenticated"}},{userName:"Tomson",childrenTop:{count:0,roleNames:""},children:{count:2,roleNames:"anonymous,authenticated"}},{userName:"Tom",childrenTop:{count:1,roleNames:"organization"},children:{count:2,roleNames:"internal,external"}}];case 4:if(!(o<s.length)){e.next=23;break}return i=s[o],c=i.userName,u=n[c],e.next=10,t.ctx.bean.role.childrenTop({roleTypes:r,page:null,user:{id:u}});case 10:if(m=e.sent,a.equal(m.length,i.childrenTop.count,c),a.equal(m.map((e=>e.roleName)).join(","),i.childrenTop.roleNames,c),!(m.length>0)){e.next=20;break}return l=m[0],e.next=17,t.ctx.bean.role.children({roleTypes:r,roleId:l.id,page:null,user:{id:u}});case 17:m=e.sent,a.equal(m.length,i.children.count,c),a.equal(m.map((e=>e.roleName)).join(","),i.children.roleNames,c);case 20:o++,e.next=4;break;case 23:t.ctx.success();case 24:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},482:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async user(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o,s,i,c,u,m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ctx.cache.mem.get("userIds"),r=t.ctx.cache.mem.get("roleIds"),o=0,s=[{userName:"root",selectTop:{countMin:9,userNameContain:"Jannie"},selectRole:{countMin:4,userNameContain:"Jannie"}},{userName:"Tomson",selectTop:{countMin:0,userNameContain:""},selectRole:{countMin:0,userNameContain:""}},{userName:"Tom",selectTop:{countMin:8,userNameContain:"Jannie"},selectRole:{countMin:4,userNameContain:"Jannie"}}];case 4:if(!(o<s.length)){e.next=22;break}return i=s[o],c=i.userName,u=n[c],e.next=10,t.ctx.bean.user.select({options:{},user:{id:u}});case 10:return m=e.sent,a.equal(m.length>=i.selectTop.countMin,!0,c),i.selectTop.userNameContain&&a.equal(m.map((e=>e.userName)).includes(i.selectTop.userNameContain),!0,c),l=r.family,e.next=16,t.ctx.bean.user.select({options:{role:l},user:{id:u}});case 16:m=e.sent,a.equal(m.length>=i.selectRole.countMin,!0,c),i.selectRole.userNameContain&&a.equal(m.map((e=>e.userName)).includes(i.selectRole.userNameContain),!0,c);case 19:o++,e.next=4;break;case 22:t.ctx.success();case 23:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},2363:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async all(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o,s,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx.cache.mem.get("userIds"),r={id:n.Tom},o=t.ctx.module.main.meta.base.statics["a-base.resource"].items,s=o.length,e.next=6,t.ctx.bean.resource.select({options:{where:{"a.atomStaticKey":{op:"likeRight",val:"test-party:"}},orders:[["a.id","asc"]],page:{index:0,size:0},locale:"en-us"},user:r});case 6:return i=e.sent,a.equal(i.length,s),a.equal(!!i[0].atomNameLocale,!0),c=i[0],e.next=12,t.ctx.bean.resource.check({atomStaticKeys:[c.atomStaticKey],user:r});case 12:return i=e.sent,a.equal(i[0].passed,!0),e.next=16,t.ctx.bean.resource.read({key:{atomId:c.atomId},options:{locale:"en-us"},user:r});case 16:u=e.sent,a.equal(!!u.atomNameLocale,!0),t.ctx.success();case 19:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},4511:e=>{function t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}e.exports=e=>{class n extends e.Controller{async checkRightResourceUser(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.ctx.success(n.ctx.meta._resource);case 1:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return n}},5010:(e,t,n)=>{function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}const a=n(5638)("assert");e.exports=e=>{class t extends e.Controller{async userRole(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ctx.cache.mem.get("userIds"),r=t.ctx.cache.mem.get("roleIds"),e.next=4,t.ctx.bean.role.getUserRolesDirect({userId:n.root});case 4:return o=e.sent,a.equal(o.length,1),e.next=8,t.ctx.bean.role.getUserRolesParent({userId:n.root});case 8:return o=e.sent,a.equal(o.length,3),e.next=12,t.ctx.bean.role.getUserRolesExpand({userId:n.root});case 12:return o=e.sent,a(o.length>3),e.next=16,t.ctx.bean.role.userInRoleDirect({userId:n.root,roleId:r.superuser});case 16:return s=e.sent,a.equal(s,!0),e.next=20,t.ctx.bean.role.userInRoleParent({userId:n.root,roleId:r.root});case 20:return s=e.sent,a.equal(s,!0),e.next=24,t.ctx.bean.role.userInRoleExpand({userId:n.root,roleId:r.system});case 24:s=e.sent,a.equal(s,!0),t.ctx.success();case 27:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))})()}}return t}},5509:(e,t,n)=>{const r=n(3624),a=n(1986),o=n(9724),s=n(5632),i=n(4511),c=n(2363),u=n(2791),m=n(5656),l=n(5055),d=n(5484),p=n(6240),h=n(7772),f=n(546),x=n(9618),v=n(5234),y=n(8621),g=n(3778),b=n(5010),w=n(1796),R=n(482),k=n(2779),C=n(5744),P=n(5655),S=n(5047),T=n(1742),N=n(3282),I=n(3648),A=n(2462),L=n(8855),M=n(1504),q=n(2251),O=n(9124),E=n(8315),F=n(1077),_=n(2289),U=n(2362),B=n(481),D=n(1288),K=n(1590),z=n(6013),j=n(5555),J=n(1719),G=n(3311),V=n(9354);e.exports=e=>({party:r,testAtomStarLabel:a,testAtomAll:o,testAtomRight:s,testResourceRight:i,testResourceAll:c,testCtxPerformAction:u,testCtxTransaction:m,testCtxTail:l,testCtxSession:d,testCtxRequest:p,testCtxResponse:h,testCtxConfig:f,testCtxLocale:x,testCacheMem:v,testCacheDb:y,testCacheRedis:g,testRoleUserRole:b,testMultilevelAuthorizationRole:w,testMultilevelAuthorizationUser:R,testEventHello:k,testFeatBean:C,testFeatHttpLog:P,testFeatSendMail:S,testFeatSocketIO:T,testFeatInstance:N,testFeatProgress:I,testFeatSequence:A,testFeatSettings:L,testFeatStats:M,testFeatStatus:q,testFeatValidation:O,testFeatMiddleware:E,testFeatQueue:F,testFeatBroadcast:_,testFeatModel:U,testFeatCategory:B,testFeatTag:D,testOpenAuth:K,testMonkeyee:z,testKitchensinkAutocomplete:j,testKitchensinkGuide:J,testKitchensinkFormSchemaValidation:G,testKitchensinkPtrIsLoadMore:V})},2880:(e,t,n)=>{const r=n(3751),a=n(1636),o=n(25);e.exports=e=>{const t=n(3905)(e),s=n(1700)(e),i=n(1808)(e),c=n(5509)(e),u=n(9788)(e),m=n(6554)(e),l=n(4437)(e);return{aops:t,beans:s,routes:i,controllers:c,services:u,models:m,config:r,locales:a,errors:o,meta:l}}},4437:(e,t,n)=>{const r=n(5638)("extend2");e.exports=e=>{const t=e.meta.mockUtil.parseInfoFromPackage(__dirname),a={},o=n(7189)(e),s=n(6919)(e),i=n(5662)(e),c=n(8507)(e),u=n(6623)(e),m=n(6034)(e),l=n(6962)(e),d=n(8472)(e),p=n(4816)(e),h=n(2028)(e),f=n(811);return r(!0,a,{base:{atoms:{party:{info:{bean:"party",title:"Party",tableName:"testParty",tableNameModes:{},language:!1,category:!0,tag:!0,cms:!0,fields:{custom:["partyOver"]},dict:{fields:{partyTypeCode:{dictKey:"test-party:dictPartyType"},partyCountry:{dictKey:"a-dictbooster:countries"},partyCity:{translate:!1}}},layout:{config:{atomList:"layoutAtomListParty"}}},actions:{partyOver:{code:101,title:"PartyOver",actionModule:t.relativeName,actionComponent:"action",icon:{f7:":outline:check-circle-outline"},enableOnOpened:!0,stage:"formal"},partyOverBulk:{code:201,title:"PartyOver",actionModule:t.relativeName,actionComponent:"action",icon:{f7:":outline:check-circle-outline"},bulk:!0,select:!0,stage:"formal"}},validator:"party",search:{validator:"partySearch"}}},statics:{"a-app.app":{items:u},"a-dashboard.dashboard":{items:m},"a-baselayout.layout":{items:l},"a-base.resource":{items:d},"a-dict.dict":{items:p},"a-base.role":{items:h}}},validation:{validators:{party:{schemas:"party"},partySearch:{schemas:"partySearch"},userTest:{schemas:"settingsUser,settingsUserExtra"},instanceTest:{schemas:"settingsInstance"},formTest:{schemas:"formTest"},formCaptchaTest:{schemas:"formCaptchaTest"},formMobileVerifyTest:{schemas:"formMobileVerifyTest"},blockArticleCommentCount:{schemas:"blockArticleCommentCount"}},keywords:{"x-languages":s.languages},schemas:o},settings:{user:{validator:"userTest"},instance:{validator:"instanceTest"}},event:{implementations:{"a-base:loginInfo":"loginInfoDashboard"}},index:{indexes:{testParty:"createdAt,updatedAt,atomId,partyTypeCode"}},socketio:{messages:{test:i,simpleChat:c}},stats:{providers:{tasksUser:{user:!0,bean:"tasksUser"},tasksInstance:{user:!1,bean:"tasksInstance",dependencies:"tasksUser"}}},icon:{groups:f}}),e.meta.isTest&&r(!0,a,{base:{},event:{declarations:{hello:"This is a test for event"},implementations:{"test-party:hello":"helloEcho","a-base:userVerify":"userVerify","a-base:loginInfo":"loginInfo"}},sequence:{providers:{test:{bean:"test",start:0}}}}),a}},5115:e=>{e.exports=e=>{class t extends e.meta.Model{constructor(e){super(e,{table:"testParty",options:{disableDeleted:!1}})}}return t}},6554:(e,t,n)=>{const r=n(5115);e.exports=e=>{const t={};return Object.assign(t,{party:r}),t}},1808:e=>{e.exports=()=>{let e=[];return e=e.concat([{method:"post",path:"party/over",controller:"party",middlewares:"transaction",meta:{right:{type:"atom",atomClass:"test-party:party",action:"partyOver"}}},{method:"post",path:"party/overBulk",controller:"party",middlewares:"transaction",meta:{right:{type:"atom",atomClass:"test-party:party",action:"partyOverBulk"}}},{method:"post",path:"test/atom/starLabel",controller:"testAtomStarLabel",middlewares:"test"},{method:"post",path:"test/atom/all",controller:"testAtomAll",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/atom/checkRightCreate",controller:"testAtomRight",middlewares:"test",meta:{right:{type:"atom",atomClass:"test-party:party",action:"create"}}},{method:"post",path:"test/atom/checkRightRead",controller:"testAtomRight",middlewares:"test",meta:{right:{type:"atom",atomClass:"test-party:party",action:"read"}}},{method:"post",path:"test/atom/checkRightWrite",controller:"testAtomRight",middlewares:"test",meta:{right:{type:"atom",atomClass:"test-party:party",action:"write"}}},{method:"post",path:"test/atom/checkRightAction",controller:"testAtomRight",middlewares:"test",meta:{right:{type:"atom",atomClass:"test-party:party",action:"partyOver"}}},{method:"post",path:"test/resource/checkRightResourceUser",controller:"testResourceRight",middlewares:"test",meta:{right:{type:"resource",module:"test-party",name:"createParty"}}},{method:"post",path:"test/resource/all",controller:"testResourceAll",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/role/userRole",controller:"testRoleUserRole",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/multilevelAuthorization/role",controller:"testMultilevelAuthorizationRole",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/multilevelAuthorization/user",controller:"testMultilevelAuthorizationUser",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/performAction",controller:"testCtxPerformAction",middlewares:"test"},{method:"post",path:"test/ctx/performAction/echo",controller:"testCtxPerformAction",middlewares:"test"},{method:"post",path:"test/ctx/transaction",controller:"testCtxTransaction",middlewares:"test,transaction"},{method:"post",path:"test/ctx/tail",controller:"testCtxTail",middlewares:"test"},{method:"post",path:"test/ctx/session",controller:"testCtxSession",middlewares:"test"},{method:"post",path:"test/ctx/session/echo1",controller:"testCtxSession",middlewares:"test"},{method:"post",path:"test/ctx/session/echo2",controller:"testCtxSession",middlewares:"test"},{method:"post",path:"test/ctx/request/:id",controller:"testCtxRequest",action:"request",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/requestXML",controller:"testCtxRequest",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/response/success",controller:"testCtxResponse",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/response/successMore",controller:"testCtxResponse",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/response/fail",controller:"testCtxResponse",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/response/throwError",controller:"testCtxResponse",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/config/test",controller:"testCtxConfig",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/locale/enus",controller:"testCtxLocale",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/ctx/locale/zhcn",controller:"testCtxLocale",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/event/hello",controller:"testEventHello",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/cache/mem",controller:"testCacheMem",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/cache/db",controller:"testCacheDb",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/cache/redis",controller:"testCacheRedis",middlewares:"test",meta:{auth:{enable:!1}}},{method:"get",path:"test/feat/bean",controller:"testFeatBean",middlewares:"test",meta:{auth:{enable:!1}}},{method:"get",path:"test/feat/bean/local",controller:"testFeatBean",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/httpLog",controller:"testFeatHttpLog",middlewares:"test,httpLog",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/sendMail",controller:"testFeatSendMail",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/socketio/publish",controller:"testFeatSocketIO",middlewares:"",meta:{auth:{user:!0}}},{method:"post",path:"test/feat/socketio/simpleChat",controller:"testFeatSocketIO",middlewares:"",meta:{auth:{user:!0}}},{method:"post",path:"test/feat/instance",controller:"testFeatInstance",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/progress",controller:"testFeatProgress"},{method:"post",path:"test/feat/sequence",controller:"testFeatSequence",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/settings",controller:"testFeatSettings",middlewares:"test"},{method:"post",path:"test/feat/stats",controller:"testFeatStats",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/stats/plus",controller:"testFeatStats"},{method:"post",path:"test/feat/status",controller:"testFeatStatus",middlewares:"test",meta:{auth:{enable:!1}}},{method:"post",path:"test/feat/validation/success",controller:"testFeatValidation",middlewares:"test,validate",meta:{auth:{enable:!1},validate:{validator:"userTest"}}},{method:"post",path:"test/feat/validation/fail",controller:"testFeatValidation",middlewares:"test,validate",meta:{auth:{enable:!1},validate:{validator:"userTest"}}},{method:"post",path:"test/feat/validation/schema",controller:"testFeatValidation",middlewares:"test,validate",meta:{auth:{enable:!1},validate:{validator:"userTest",schema:"settingsUserExtra"}}},{method:"post",path:"test/feat/middleware/interception",controller:"testFeatMiddleware",middlewares:"test,testInterception"},{method:"post",path:"test/feat/middleware/restructuring",controller:"testFeatMiddleware",middlewares:"test,testInterception,testRestructuring"},{method:"post",path:"test/feat/pushAsync",controller:"testFeatQueue",middlewares:"test"},{method:"post",path:"test/feat/push",controller:"testFeatQueue",middlewares:"test"},{method:"post",path:"test/feat/broadcast/emit",controller:"testFeatBroadcast",middlewares:"test"},{method:"post",path:"test/feat/model",controller:"testFeatModel",middlewares:"test"},{method:"post",path:"test/feat/category",controller:"testFeatCategory",middlewares:"test"},{method:"post",path:"test/feat/tag",controller:"testFeatTag",middlewares:"test"},{method:"post",path:"test/feat/openAuth/resourceCheckSuccess",controller:"testOpenAuth",middlewares:"test",meta:{right:{type:"resource",name:"kitchenSink"}}},{method:"post",path:"test/feat/openAuth/resourceCheckFail",controller:"testOpenAuth",middlewares:"test",meta:{right:{type:"resource",module:"test-party",name:"createParty"}}},{method:"post",path:"test/monkey/monkeyee/test",controller:"testMonkeyee",middlewares:"test"},{method:"post",path:"kitchen-sink/guide/echo",controller:"testKitchensinkGuide"},{method:"post",path:"kitchen-sink/guide/echo3",controller:"testKitchensinkGuide"},{method:"post",path:"kitchen-sink/guide/echo4",controller:"testKitchensinkGuide"},{method:"post",path:"kitchen-sink/guide/echo6",controller:"testKitchensinkGuide"},{method:"post",path:"kitchen-sink/guide/echo7",controller:"testKitchensinkGuide"},{method:"post",path:"kitchen-sink/guide/echo8",controller:"testKitchensinkGuide",middlewares:"transaction"},{method:"post",path:"kitchen-sink/guide/echo9",controller:"testKitchensinkGuide",meta:{right:{type:"resource",name:"kitchenSink"}}},{method:"get",path:"kitchen-sink/autocomplete/languages/:query",controller:"testKitchensinkAutocomplete",action:"languages",meta:{auth:{enable:!1}}},{method:"get",path:"kitchen-sink/form-schema-validation/load",controller:"testKitchensinkFormSchemaValidation"},{method:"post",path:"kitchen-sink/form-schema-validation/saveSimple",controller:"testKitchensinkFormSchemaValidation"},{method:"post",path:"kitchen-sink/form-schema-validation/saveValidation",controller:"testKitchensinkFormSchemaValidation",middlewares:"validate",meta:{validate:{validator:"formTest"}}},{method:"post",path:"kitchen-sink/form-captcha/signup",controller:"testKitchensinkFormSchemaValidation",middlewares:"captchaVerify,validate",meta:{captchaVerify:{scene:{name:"formCaptchaTest"}},validate:{validator:"formCaptchaTest"}}},{method:"post",path:"kitchen-sink/form-mobile-verify/mobileVerify",controller:"testKitchensinkFormSchemaValidation",middlewares:"captchaVerify,validate",meta:{captchaVerify:{scene:{name:"formMobileVerifyTest"}},validate:{validator:"formMobileVerifyTest"}}},{method:"post",path:"kitchen-sink/ptr-is-loadmore/list",controller:"testKitchensinkPtrIsLoadMore"}]),e}},7305:e=>{function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw s}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}}e.exports=e=>{class n extends e.Service{async over(e){var t=this;return a(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.key,e.user,n.next=3,t.ctx.model.party.update({id:r.itemId,partyOver:1});case 3:return n.next=5,t.ctx.bean.cms.render._renderArticlePush({key:r,inner:!1});case 5:case"end":return n.stop()}}),n)})))()}async overBulk(e){var n=this;return a(regeneratorRuntime.mark((function r(){var a,o,s,i,c,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=e.keys,o=e.user,s=[],i=t(a),r.prev=3,i.s();case 5:if((c=i.n()).done){r.next=13;break}return u=c.value,r.next=9,n._overBulk_item({key:u,user:o});case 9:r.sent&&s.push(u);case 11:r.next=5;break;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(3),i.e(r.t0);case 18:return r.prev=18,i.f(),r.finish(18);case 21:return r.abrupt("return",{keys:s});case 22:case"end":return r.stop()}}),r,null,[[3,15,18,21]])})))()}async _overBulk_item(e){var t=this;return a(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.key,a=e.user,n.next=3,t.ctx.bean.atom.checkRightAction({atom:{id:r.atomId},action:101,user:a});case 3:if(n.sent){n.next=6;break}return n.abrupt("return",!1);case 6:return n.next=8,t.over({key:r,user:a});case 8:return n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})))()}}return n}},9788:(e,t,n)=>{const r=n(7305);e.exports=e=>{const t={};return Object.assign(t,{party:r}),t}},5638:e=>{"use strict";e.exports=require("require3")},3614:e=>{"use strict";e.exports=JSON.parse('[{"id":0,"name":"A# .NET"},{"id":1,"name":"A# (Axiom)"},{"id":2,"name":"A-0 System"},{"id":3,"name":"A+"},{"id":4,"name":"A++"},{"id":5,"name":"ABAP"},{"id":6,"name":"ABC"},{"id":7,"name":"ABC ALGOL"},{"id":8,"name":"ABLE"},{"id":9,"name":"ABSET"},{"id":10,"name":"ABSYS"},{"id":11,"name":"ACC"},{"id":12,"name":"Accent"},{"id":13,"name":"Ace DASL"},{"id":14,"name":"ACL2"},{"id":15,"name":"ACT-III"},{"id":16,"name":"Action!"},{"id":17,"name":"ActionScript"},{"id":18,"name":"Ada"},{"id":19,"name":"Adenine"},{"id":20,"name":"Agda"},{"id":21,"name":"Agilent VEE"},{"id":22,"name":"Agora"},{"id":23,"name":"AIMMS"},{"id":24,"name":"Alef"},{"id":25,"name":"ALF"},{"id":26,"name":"ALGOL 58"},{"id":27,"name":"ALGOL 60"},{"id":28,"name":"ALGOL 68"},{"id":29,"name":"ALGOL W"},{"id":30,"name":"Alice"},{"id":31,"name":"Alma-0"},{"id":32,"name":"AmbientTalk"},{"id":33,"name":"Amiga E"},{"id":34,"name":"AMOS"},{"id":35,"name":"AMPL"},{"id":36,"name":"Apex"},{"id":37,"name":"APL"},{"id":38,"name":"App Inventor for Android\'s visual block language"},{"id":39,"name":"AppleScript"},{"id":40,"name":"Arc"},{"id":41,"name":"ARexx"},{"id":42,"name":"Argus"},{"id":43,"name":"AspectJ"},{"id":44,"name":"Assembly language"},{"id":45,"name":"ATS"},{"id":46,"name":"Ateji PX"},{"id":47,"name":"AutoHotkey"},{"id":48,"name":"Autocoder"},{"id":49,"name":"AutoIt"},{"id":50,"name":"AutoLISP / Visual LISP"},{"id":51,"name":"Averest"},{"id":52,"name":"AWK"},{"id":53,"name":"Axum"},{"id":54,"name":"B"},{"id":55,"name":"Babbage"},{"id":56,"name":"Bash"},{"id":57,"name":"BASIC"},{"id":58,"name":"bc"},{"id":59,"name":"BCPL"},{"id":60,"name":"BeanShell"},{"id":61,"name":"Batch (Windows/Dos)"},{"id":62,"name":"Bertrand"},{"id":63,"name":"BETA"},{"id":64,"name":"Bigwig"},{"id":65,"name":"Bistro"},{"id":66,"name":"BitC"},{"id":67,"name":"BLISS"},{"id":68,"name":"Blue"},{"id":69,"name":"Boo"},{"id":70,"name":"Boomerang"},{"id":71,"name":"Bourne shell"},{"id":72,"name":"bash"},{"id":73,"name":"ksh"},{"id":74,"name":"BREW"},{"id":75,"name":"BPEL"},{"id":76,"name":"C"},{"id":77,"name":"C--"},{"id":78,"name":"C++"},{"id":79,"name":"C#"},{"id":80,"name":"C/AL"},{"id":81,"name":"Caché ObjectScript"},{"id":82,"name":"C Shell"},{"id":83,"name":"Caml"},{"id":84,"name":"Cayenne"},{"id":85,"name":"CDuce"},{"id":86,"name":"Cecil"},{"id":87,"name":"Cel"},{"id":88,"name":"Cesil"},{"id":89,"name":"Ceylon"},{"id":90,"name":"CFEngine"},{"id":91,"name":"CFML"},{"id":92,"name":"Cg"},{"id":93,"name":"Ch"},{"id":94,"name":"Chapel"},{"id":95,"name":"CHAIN"},{"id":96,"name":"Charity"},{"id":97,"name":"Charm"},{"id":98,"name":"Chef"},{"id":99,"name":"CHILL"},{"id":100,"name":"CHIP-8"},{"id":101,"name":"chomski"},{"id":102,"name":"ChucK"},{"id":103,"name":"CICS"},{"id":104,"name":"Cilk"},{"id":105,"name":"CL"},{"id":106,"name":"Claire"},{"id":107,"name":"Clarion"},{"id":108,"name":"Clean"},{"id":109,"name":"Clipper"},{"id":110,"name":"CLIST"},{"id":111,"name":"Clojure"},{"id":112,"name":"CLU"},{"id":113,"name":"CMS-2"},{"id":114,"name":"COBOL"},{"id":115,"name":"Cobra"},{"id":116,"name":"CODE"},{"id":117,"name":"CoffeeScript"},{"id":118,"name":"Cola"},{"id":119,"name":"ColdC"},{"id":120,"name":"ColdFusion"},{"id":121,"name":"COMAL"},{"id":122,"name":"Combined Programming Language"},{"id":123,"name":"COMIT"},{"id":124,"name":"Common Intermediate Language"},{"id":125,"name":"Common Lisp"},{"id":126,"name":"COMPASS"},{"id":127,"name":"Component Pascal"},{"id":128,"name":"Constraint Handling Rules"},{"id":129,"name":"Converge"},{"id":130,"name":"Cool"},{"id":131,"name":"Coq"},{"id":132,"name":"Coral 66"},{"id":133,"name":"Corn"},{"id":134,"name":"CorVision"},{"id":135,"name":"COWSEL"},{"id":136,"name":"CPL"},{"id":137,"name":"csh"},{"id":138,"name":"CSP"},{"id":139,"name":"Cryptol"},{"id":140,"name":"Csound"},{"id":141,"name":"CUDA"},{"id":142,"name":"Curl"},{"id":143,"name":"Curry"},{"id":144,"name":"Cyclone"},{"id":145,"name":"Cython"},{"id":146,"name":"D"},{"id":147,"name":"DASL"},{"id":148,"name":"DASL"},{"id":149,"name":"Dart"},{"id":150,"name":"DataFlex"},{"id":151,"name":"Datalog"},{"id":152,"name":"DATATRIEVE"},{"id":153,"name":"dBase"},{"id":154,"name":"dc"},{"id":155,"name":"DCL"},{"id":156,"name":"Deesel"},{"id":157,"name":"Delphi"},{"id":158,"name":"DinkC"},{"id":159,"name":"DIBOL"},{"id":160,"name":"Dog"},{"id":161,"name":"Draco"},{"id":162,"name":"DRAKON"},{"id":163,"name":"Dylan"},{"id":164,"name":"DYNAMO"},{"id":165,"name":"E"},{"id":166,"name":"E#"},{"id":167,"name":"Ease"},{"id":168,"name":"Easy PL/I"},{"id":169,"name":"Easy Programming Language"},{"id":170,"name":"EASYTRIEVE PLUS"},{"id":171,"name":"ECMAScript"},{"id":172,"name":"Edinburgh IMP"},{"id":173,"name":"EGL"},{"id":174,"name":"Eiffel"},{"id":175,"name":"ELAN"},{"id":176,"name":"Elixir"},{"id":177,"name":"Elm"},{"id":178,"name":"Emacs Lisp"},{"id":179,"name":"Emerald"},{"id":180,"name":"Epigram"},{"id":181,"name":"EPL"},{"id":182,"name":"Erlang"},{"id":183,"name":"es"},{"id":184,"name":"Escher"},{"id":185,"name":"ESPOL"},{"id":186,"name":"Esterel"},{"id":187,"name":"Etoys"},{"id":188,"name":"Euclid"},{"id":189,"name":"Euler"},{"id":190,"name":"Euphoria"},{"id":191,"name":"EusLisp Robot Programming Language"},{"id":192,"name":"CMS EXEC"},{"id":193,"name":"EXEC 2"},{"id":194,"name":"Executable UML"},{"id":195,"name":"F"},{"id":196,"name":"F#"},{"id":197,"name":"Factor"},{"id":198,"name":"Falcon"},{"id":199,"name":"Fantom"},{"id":200,"name":"FAUST"},{"id":201,"name":"FFP"},{"id":202,"name":"Fjölnir"},{"id":203,"name":"FL"},{"id":204,"name":"Flavors"},{"id":205,"name":"Flex"},{"id":206,"name":"FLOW-MATIC"},{"id":207,"name":"FOCAL"},{"id":208,"name":"FOCUS"},{"id":209,"name":"FOIL"},{"id":210,"name":"FORMAC"},{"id":211,"name":"@Formula"},{"id":212,"name":"Forth"},{"id":213,"name":"Fortran"},{"id":214,"name":"Fortress"},{"id":215,"name":"FoxBase"},{"id":216,"name":"FoxPro"},{"id":217,"name":"FP"},{"id":218,"name":"FPr"},{"id":219,"name":"Franz Lisp"},{"id":220,"name":"Frege"},{"id":221,"name":"F-Script"},{"id":222,"name":"G"},{"id":223,"name":"Google Apps Script"},{"id":224,"name":"Game Maker Language"},{"id":225,"name":"GameMonkey Script"},{"id":226,"name":"GAMS"},{"id":227,"name":"GAP"},{"id":228,"name":"G-code"},{"id":229,"name":"Genie"},{"id":230,"name":"GDL"},{"id":231,"name":"GJ"},{"id":232,"name":"GEORGE"},{"id":233,"name":"GLSL"},{"id":234,"name":"GNU E"},{"id":235,"name":"GM"},{"id":236,"name":"Go"},{"id":237,"name":"Go!"},{"id":238,"name":"GOAL"},{"id":239,"name":"Gödel"},{"id":240,"name":"Godiva"},{"id":241,"name":"GOM (Good Old Mad)"},{"id":242,"name":"Goo"},{"id":243,"name":"Gosu"},{"id":244,"name":"GOTRAN"},{"id":245,"name":"GPSS"},{"id":246,"name":"GraphTalk"},{"id":247,"name":"GRASS"},{"id":248,"name":"Groovy"},{"id":249,"name":"Hack"},{"id":250,"name":"HAL/S"},{"id":251,"name":"Hamilton C shell"},{"id":252,"name":"Harbour"},{"id":253,"name":"Hartmann pipelines"},{"id":254,"name":"Haskell"},{"id":255,"name":"Haxe"},{"id":256,"name":"High Level Assembly"},{"id":257,"name":"HLSL"},{"id":258,"name":"Hop"},{"id":259,"name":"Hope"},{"id":260,"name":"Hugo"},{"id":261,"name":"Hume"},{"id":262,"name":"HyperTalk"},{"id":263,"name":"IBM Basic assembly language"},{"id":264,"name":"IBM HAScript"},{"id":265,"name":"IBM Informix-4GL"},{"id":266,"name":"IBM RPG"},{"id":267,"name":"ICI"},{"id":268,"name":"Icon"},{"id":269,"name":"Id"},{"id":270,"name":"IDL"},{"id":271,"name":"Idris"},{"id":272,"name":"IMP"},{"id":273,"name":"Inform"},{"id":274,"name":"Io"},{"id":275,"name":"Ioke"},{"id":276,"name":"IPL"},{"id":277,"name":"IPTSCRAE"},{"id":278,"name":"ISLISP"},{"id":279,"name":"ISPF"},{"id":280,"name":"ISWIM"},{"id":281,"name":"J"},{"id":282,"name":"J#"},{"id":283,"name":"J++"},{"id":284,"name":"JADE"},{"id":285,"name":"Jako"},{"id":286,"name":"JAL"},{"id":287,"name":"Janus"},{"id":288,"name":"JASS"},{"id":289,"name":"Java"},{"id":290,"name":"JavaScript"},{"id":291,"name":"JCL"},{"id":292,"name":"JEAN"},{"id":293,"name":"Join Java"},{"id":294,"name":"JOSS"},{"id":295,"name":"Joule"},{"id":296,"name":"JOVIAL"},{"id":297,"name":"Joy"},{"id":298,"name":"JScript"},{"id":299,"name":"JScript .NET"},{"id":300,"name":"JavaFX Script"},{"id":301,"name":"Julia"},{"id":302,"name":"Jython"},{"id":303,"name":"K"},{"id":304,"name":"Kaleidoscope"},{"id":305,"name":"Karel"},{"id":306,"name":"Karel++"},{"id":307,"name":"KEE"},{"id":308,"name":"Kixtart"},{"id":309,"name":"Klerer-May System"},{"id":310,"name":"KIF"},{"id":311,"name":"Kojo"},{"id":312,"name":"Kotlin"},{"id":313,"name":"KRC"},{"id":314,"name":"KRL"},{"id":315,"name":"KUKA"},{"id":316,"name":"KRYPTON"},{"id":317,"name":"ksh"},{"id":318,"name":"L"},{"id":319,"name":"L# .NET"},{"id":320,"name":"LabVIEW"},{"id":321,"name":"Ladder"},{"id":322,"name":"Lagoona"},{"id":323,"name":"LANSA"},{"id":324,"name":"Lasso"},{"id":325,"name":"LaTeX"},{"id":326,"name":"Lava"},{"id":327,"name":"LC-3"},{"id":328,"name":"Leda"},{"id":329,"name":"Legoscript"},{"id":330,"name":"LIL"},{"id":331,"name":"LilyPond"},{"id":332,"name":"Limbo"},{"id":333,"name":"Limnor"},{"id":334,"name":"LINC"},{"id":335,"name":"Lingo"},{"id":336,"name":"Linoleum"},{"id":337,"name":"LIS"},{"id":338,"name":"LISA"},{"id":339,"name":"Lisaac"},{"id":340,"name":"Lisp"},{"id":341,"name":"Lite-C"},{"id":342,"name":"Lithe"},{"id":343,"name":"Little b"},{"id":344,"name":"Logo"},{"id":345,"name":"Logtalk"},{"id":346,"name":"LotusScript"},{"id":347,"name":"LPC"},{"id":348,"name":"LSE"},{"id":349,"name":"LSL"},{"id":350,"name":"LiveCode"},{"id":351,"name":"LiveScript"},{"id":352,"name":"Lua"},{"id":353,"name":"Lucid"},{"id":354,"name":"Lustre"},{"id":355,"name":"LYaPAS"},{"id":356,"name":"Lynx"},{"id":357,"name":"M2001"},{"id":358,"name":"M4"},{"id":359,"name":"M#"},{"id":360,"name":"Machine code"},{"id":361,"name":"MAD"},{"id":362,"name":"MAD/I"},{"id":363,"name":"Magik"},{"id":364,"name":"Magma"},{"id":365,"name":"make"},{"id":366,"name":"Maple"},{"id":367,"name":"MAPPER"},{"id":368,"name":"MARK-IV"},{"id":369,"name":"Mary"},{"id":370,"name":"MASM Microsoft Assembly x86"},{"id":371,"name":"Mathematica"},{"id":372,"name":"MATLAB"},{"id":373,"name":"Maxima"},{"id":374,"name":"Macsyma"},{"id":375,"name":"Max"},{"id":376,"name":"MaxScript"},{"id":377,"name":"Maya (MEL)"},{"id":378,"name":"MDL"},{"id":379,"name":"Mercury"},{"id":380,"name":"Mesa"},{"id":381,"name":"Metacard"},{"id":382,"name":"Metafont"},{"id":383,"name":"Microcode"},{"id":384,"name":"MicroScript"},{"id":385,"name":"MIIS"},{"id":386,"name":"MillScript"},{"id":387,"name":"MIMIC"},{"id":388,"name":"Mirah"},{"id":389,"name":"Miranda"},{"id":390,"name":"MIVA Script"},{"id":391,"name":"ML"},{"id":392,"name":"Moby"},{"id":393,"name":"Model 204"},{"id":394,"name":"Modelica"},{"id":395,"name":"Modula"},{"id":396,"name":"Modula-2"},{"id":397,"name":"Modula-3"},{"id":398,"name":"Mohol"},{"id":399,"name":"MOO"},{"id":400,"name":"Mortran"},{"id":401,"name":"Mouse"},{"id":402,"name":"MPD"},{"id":403,"name":"CIL"},{"id":404,"name":"MSL"},{"id":405,"name":"MUMPS"},{"id":406,"name":"Mystic Programming Language"},{"id":407,"name":"NASM"},{"id":408,"name":"NATURAL"},{"id":409,"name":"Napier88"},{"id":410,"name":"Neko"},{"id":411,"name":"Nemerle"},{"id":412,"name":"nesC"},{"id":413,"name":"NESL"},{"id":414,"name":"Net.Data"},{"id":415,"name":"NetLogo"},{"id":416,"name":"NetRexx"},{"id":417,"name":"NewLISP"},{"id":418,"name":"NEWP"},{"id":419,"name":"Newspeak"},{"id":420,"name":"NewtonScript"},{"id":421,"name":"NGL"},{"id":422,"name":"Nial"},{"id":423,"name":"Nice"},{"id":424,"name":"Nickle"},{"id":425,"name":"Nim"},{"id":426,"name":"NPL"},{"id":427,"name":"Not eXactly C"},{"id":428,"name":"Not Quite C"},{"id":429,"name":"NSIS"},{"id":430,"name":"Nu"},{"id":431,"name":"NWScript"},{"id":432,"name":"NXT-G"},{"id":433,"name":"o:XML"},{"id":434,"name":"Oak"},{"id":435,"name":"Oberon"},{"id":436,"name":"OBJ2"},{"id":437,"name":"Object Lisp"},{"id":438,"name":"ObjectLOGO"},{"id":439,"name":"Object REXX"},{"id":440,"name":"Object Pascal"},{"id":441,"name":"Objective-C"},{"id":442,"name":"Objective-J"},{"id":443,"name":"Obliq"},{"id":444,"name":"OCaml"},{"id":445,"name":"occam"},{"id":446,"name":"occam-π"},{"id":447,"name":"Octave"},{"id":448,"name":"OmniMark"},{"id":449,"name":"Onyx"},{"id":450,"name":"Opa"},{"id":451,"name":"Opal"},{"id":452,"name":"OpenCL"},{"id":453,"name":"OpenEdge ABL"},{"id":454,"name":"OPL"},{"id":455,"name":"OPS5"},{"id":456,"name":"OptimJ"},{"id":457,"name":"Orc"},{"id":458,"name":"ORCA/Modula-2"},{"id":459,"name":"Oriel"},{"id":460,"name":"Orwell"},{"id":461,"name":"Oxygene"},{"id":462,"name":"Oz"},{"id":463,"name":"P′′"},{"id":464,"name":"P#"},{"id":465,"name":"ParaSail (programming language)"},{"id":466,"name":"PARI/GP"},{"id":467,"name":"Pascal"},{"id":468,"name":"PCASTL"},{"id":469,"name":"PCF"},{"id":470,"name":"PEARL"},{"id":471,"name":"PeopleCode"},{"id":472,"name":"Perl"},{"id":473,"name":"PDL"},{"id":474,"name":"Perl6"},{"id":475,"name":"PHP"},{"id":476,"name":"Phrogram"},{"id":477,"name":"Pico"},{"id":478,"name":"Picolisp"},{"id":479,"name":"Pict"},{"id":480,"name":"Pike"},{"id":481,"name":"PIKT"},{"id":482,"name":"PILOT"},{"id":483,"name":"Pipelines"},{"id":484,"name":"Pizza"},{"id":485,"name":"PL-11"},{"id":486,"name":"PL/0"},{"id":487,"name":"PL/B"},{"id":488,"name":"PL/C"},{"id":489,"name":"PL/I"},{"id":490,"name":"PL/M"},{"id":491,"name":"PL/P"},{"id":492,"name":"PL/SQL"},{"id":493,"name":"PL360"},{"id":494,"name":"PLANC"},{"id":495,"name":"Plankalkül"},{"id":496,"name":"Planner"},{"id":497,"name":"PLEX"},{"id":498,"name":"PLEXIL"},{"id":499,"name":"Plus"},{"id":500,"name":"POP-11"},{"id":501,"name":"PostScript"},{"id":502,"name":"PortablE"},{"id":503,"name":"Powerhouse"},{"id":504,"name":"PowerBuilder"},{"id":505,"name":"PowerShell"},{"id":506,"name":"PPL"},{"id":507,"name":"Processing"},{"id":508,"name":"Processing.js"},{"id":509,"name":"Prograph"},{"id":510,"name":"PROIV"},{"id":511,"name":"Prolog"},{"id":512,"name":"PROMAL"},{"id":513,"name":"Promela"},{"id":514,"name":"PROSE modeling language"},{"id":515,"name":"PROTEL"},{"id":516,"name":"ProvideX"},{"id":517,"name":"Pro*C"},{"id":518,"name":"Pure"},{"id":519,"name":"Python"},{"id":520,"name":"Q (equational programming language)"},{"id":521,"name":"Q (programming language from Kx Systems)"},{"id":522,"name":"Qalb"},{"id":523,"name":"QtScript"},{"id":524,"name":"QuakeC"},{"id":525,"name":"QPL"},{"id":526,"name":"R"},{"id":527,"name":"R++"},{"id":528,"name":"Racket"},{"id":529,"name":"RAPID"},{"id":530,"name":"Rapira"},{"id":531,"name":"Ratfiv"},{"id":532,"name":"Ratfor"},{"id":533,"name":"rc"},{"id":534,"name":"REBOL"},{"id":535,"name":"Red"},{"id":536,"name":"Redcode"},{"id":537,"name":"REFAL"},{"id":538,"name":"Reia"},{"id":539,"name":"Revolution"},{"id":540,"name":"rex"},{"id":541,"name":"REXX"},{"id":542,"name":"Rlab"},{"id":543,"name":"ROOP"},{"id":544,"name":"RPG"},{"id":545,"name":"RPL"},{"id":546,"name":"RSL"},{"id":547,"name":"RTL/2"},{"id":548,"name":"Ruby"},{"id":549,"name":"RuneScript"},{"id":550,"name":"Rust"},{"id":551,"name":"S"},{"id":552,"name":"S2"},{"id":553,"name":"S3"},{"id":554,"name":"S-Lang"},{"id":555,"name":"S-PLUS"},{"id":556,"name":"SA-C"},{"id":557,"name":"SabreTalk"},{"id":558,"name":"SAIL"},{"id":559,"name":"SALSA"},{"id":560,"name":"SAM76"},{"id":561,"name":"SAS"},{"id":562,"name":"SASL"},{"id":563,"name":"Sather"},{"id":564,"name":"Sawzall"},{"id":565,"name":"SBL"},{"id":566,"name":"Scala"},{"id":567,"name":"Scheme"},{"id":568,"name":"Scilab"},{"id":569,"name":"Scratch"},{"id":570,"name":"Script.NET"},{"id":571,"name":"Sed"},{"id":572,"name":"Seed7"},{"id":573,"name":"Self"},{"id":574,"name":"SenseTalk"},{"id":575,"name":"SequenceL"},{"id":576,"name":"SETL"},{"id":577,"name":"SIMPOL"},{"id":578,"name":"SIGNAL"},{"id":579,"name":"SiMPLE"},{"id":580,"name":"SIMSCRIPT"},{"id":581,"name":"Simula"},{"id":582,"name":"Simulink"},{"id":583,"name":"SISAL"},{"id":584,"name":"SLIP"},{"id":585,"name":"SMALL"},{"id":586,"name":"Smalltalk"},{"id":587,"name":"Small Basic"},{"id":588,"name":"SML"},{"id":589,"name":"Snap!"},{"id":590,"name":"SNOBOL"},{"id":591,"name":"SPITBOL"},{"id":592,"name":"Snowball"},{"id":593,"name":"SOL"},{"id":594,"name":"Span"},{"id":595,"name":"SPARK"},{"id":596,"name":"Speedcode"},{"id":597,"name":"SPIN"},{"id":598,"name":"SP/k"},{"id":599,"name":"SPS"},{"id":600,"name":"SQR"},{"id":601,"name":"Squeak"},{"id":602,"name":"Squirrel"},{"id":603,"name":"SR"},{"id":604,"name":"S/SL"},{"id":605,"name":"Stackless Python"},{"id":606,"name":"Starlogo"},{"id":607,"name":"Strand"},{"id":608,"name":"Stata"},{"id":609,"name":"Stateflow"},{"id":610,"name":"Subtext"},{"id":611,"name":"SuperCollider"},{"id":612,"name":"SuperTalk"},{"id":613,"name":"Swift (Apple programming language)"},{"id":614,"name":"Swift (parallel scripting language)"},{"id":615,"name":"SYMPL"},{"id":616,"name":"SyncCharts"},{"id":617,"name":"SystemVerilog"},{"id":618,"name":"T"},{"id":619,"name":"TACL"},{"id":620,"name":"TACPOL"},{"id":621,"name":"TADS"},{"id":622,"name":"TAL"},{"id":623,"name":"Tcl"},{"id":624,"name":"Tea"},{"id":625,"name":"TECO"},{"id":626,"name":"TELCOMP"},{"id":627,"name":"TeX"},{"id":628,"name":"TEX"},{"id":629,"name":"TIE"},{"id":630,"name":"Timber"},{"id":631,"name":"TMG"},{"id":632,"name":"Tom"},{"id":633,"name":"TOM"},{"id":634,"name":"TouchDevelop"},{"id":635,"name":"Topspeed"},{"id":636,"name":"TPU"},{"id":637,"name":"Trac"},{"id":638,"name":"TTM"},{"id":639,"name":"T-SQL"},{"id":640,"name":"TTCN"},{"id":641,"name":"Turing"},{"id":642,"name":"TUTOR"},{"id":643,"name":"TXL"},{"id":644,"name":"TypeScript"},{"id":645,"name":"Turbo C++"},{"id":646,"name":"Ubercode"},{"id":647,"name":"UCSD Pascal"},{"id":648,"name":"Umple"},{"id":649,"name":"Unicon"},{"id":650,"name":"Uniface"},{"id":651,"name":"UNITY"},{"id":652,"name":"Unix shell"},{"id":653,"name":"UnrealScript"},{"id":654,"name":"Vala"},{"id":655,"name":"VBA"},{"id":656,"name":"VBScript"},{"id":657,"name":"Verilog"},{"id":658,"name":"VHDL"},{"id":659,"name":"Visual Basic"},{"id":660,"name":"Visual Basic .NET"},{"id":661,"name":"Visual DataFlex"},{"id":662,"name":"Visual DialogScript"},{"id":663,"name":"Visual Fortran"},{"id":664,"name":"Visual FoxPro"},{"id":665,"name":"Visual J++"},{"id":666,"name":"Visual J#"},{"id":667,"name":"Visual Objects"},{"id":668,"name":"Visual Prolog"},{"id":669,"name":"VSXu"},{"id":670,"name":"vvvv"},{"id":671,"name":"WATFIV, WATFOR"},{"id":672,"name":"WebDNA"},{"id":673,"name":"WebQL"},{"id":674,"name":"Windows PowerShell"},{"id":675,"name":"Winbatch"},{"id":676,"name":"Wolfram Language"},{"id":677,"name":"Wyvern"},{"id":678,"name":"X++"},{"id":679,"name":"X#"},{"id":680,"name":"X10"},{"id":681,"name":"XBL"},{"id":682,"name":"XC"},{"id":683,"name":"XMOS architecture"},{"id":684,"name":"xHarbour"},{"id":685,"name":"XL"},{"id":686,"name":"Xojo"},{"id":687,"name":"XOTcl"},{"id":688,"name":"XPL"},{"id":689,"name":"XPL0"},{"id":690,"name":"XQuery"},{"id":691,"name":"XSB"},{"id":692,"name":"XSLT"},{"id":693,"name":"XPath"},{"id":694,"name":"Xtend"},{"id":695,"name":"Yorick"},{"id":696,"name":"YQL"},{"id":697,"name":"Z notation"},{"id":698,"name":"Zeno"},{"id":699,"name":"ZOPL"},{"id":700,"name":"ZPL"}]')}},t={},n=function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(2880);module.exports=n})();